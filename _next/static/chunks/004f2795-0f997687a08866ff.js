"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1773],{95756:function(t,e,r){r.d(e,{$e:function(){return tm},AQ:function(){return tS},AU:function(){return ty},Dh:function(){return tb},Ir:function(){return th},Jj:function(){return U},MX:function(){return tg},Nz:function(){return q},Pc:function(){return tj},V5:function(){return tR},V9:function(){return P},VG:function(){return tx},W4:function(){return V},WU:function(){return tY},Y1:function(){return tZ},YW:function(){return tO},_A:function(){return O},_q:function(){return tC},aU:function(){return tW},b9:function(){return $},bl:function(){return eL},c6:function(){return tX},cj:function(){return tG},dL:function(){return tf},ei:function(){return f},hI:function(){return tk},j8:function(){return M},lC:function(){return tK},lP:function(){return eW},ln:function(){return tc},mj:function(){return G},nh:function(){return tq},ni:function(){return L},pB:function(){return H},t6:function(){return T},uQ:function(){return tM},wm:function(){return tI},xH:function(){return z},xR:function(){return tN},zM:function(){return J}});var i,n,o,a,s,l,d,c,u,p,h,f,y,g=r(47223),m=r.n(g),v=r(28714),_=r(44373),b=r.n(_),w=r(61984),x=r(5853),A=r(93425),k=r(36001).Buffer;function S(t,e){let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}let I={};function N(){I.enc=Array(255),I.dec={};for(let t=0;t<=255;++t){let e=t.toString(16).padStart(2,"0");I.enc[t]=e,I.dec[e]=t}}function E(t){I.enc||N();let e=t.length,r=Array(e);for(let i=0;i<e;++i)r[i]=I.enc[t[i]];return r.join("")}let B=!1;function P(t,e){if(t instanceof e)return!0;if(null==t||"object"!=typeof t)return!1;let r=e.__className||e.abiName;if(!r)return!1;let i=t.constructor,n=!1;for(;i&&!n;){let t=i.__className||i.abiName;if(!t)break;n=r==t,i=Object.getPrototypeOf(i)}return n&&!B&&(console.warn(`Detected alien instance of ${r}, this usually means more than one version of @wharfkit/antelope has been included in your bundle.`),B=!0),n}class T{static from(t){if(P(t,this))return t;if("string"==typeof t)return this.fromString(t);throw Error("Invalid blob")}static fromString(t){if("function"==typeof k)return new this(new Uint8Array(k.from(t,"base64")));switch(t.length%4){case 2:t+="==";break;case 3:t+="=";break;case 1:t=t.substring(0,t.length-1)}let e=atob(t),r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return new this(r)}constructor(t){this.array=t}equals(t){let e=this.constructor;try{return S(this.array,e.from(t).array)}catch{return!1}}get base64String(){return"function"==typeof k?k.from(this.array).toString("base64"):btoa(this.utf8String)}get utf8String(){return new TextDecoder().decode(this.array)}toABI(t){t.writeArray(this.array)}toString(){return this.base64String}toJSON(){return this.toString()}}T.abiName="blob";class U{static from(t,e){return P(t,this)?t:"string"==typeof t?this.fromString(t,e):ArrayBuffer.isView(t)?new this(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)):P(t.array,Uint8Array)?new this(t.array):new this(new Uint8Array(t))}static fromString(t,e="hex"){if("hex"===e)return new this(function(t){if(I.dec||N(),"string"!=typeof t)throw Error("Expected string containing hex digits");if(t.length%2)throw Error("Odd number of hex digits");let e=(t=t.toLowerCase()).length/2,r=new Uint8Array(e);for(let i=0;i<e;i++){let e=I.dec[t[2*i]+t[2*i+1]];if(void 0===e)throw Error("Expected hex string");r[i]=e}return r}(t));if("utf8"==e)return new this(new TextEncoder().encode(t));throw Error(`Unknown encoding: ${e}`)}static fromABI(t){let e=t.readVaruint32();return new this(t.readArray(e))}static abiDefault(){return new U}static equal(t,e){return this.from(t).equals(this.from(e))}static random(t){return new this(m()(t))}static isBytes(t){return!!(P(t,U)||P(t,Uint8Array)||Array.isArray(t)&&t.every(t=>"number"==typeof t)||"string"==typeof t&&(/[\da-f]/i.test(t)||""===t))}constructor(t=new Uint8Array){this.array=t}get length(){return this.array.byteLength}get hexString(){return E(this.array)}get utf8String(){return new TextDecoder().decode(this.array)}append(t){t=U.from(t);let e=new Uint8Array(new ArrayBuffer(this.array.byteLength+t.array.byteLength));e.set(this.array),e.set(t.array,this.array.byteLength),this.array=e}appending(t){let e=new U(this.array);return e.append(t),e}zeropad(t,e=!1){let r=e?t:Math.max(t,this.array.byteLength),i=new Uint8Array(new ArrayBuffer(r));i.fill(0),e&&this.array.byteLength>r?i.set(this.array.slice(0,r),0):i.set(this.array,r-this.array.byteLength),this.array=i}zeropadded(t,e=!1){let r=new U(this.array);return r.zeropad(t,e),r}dropFirst(t=1){this.array=this.array.subarray(t)}droppingFirst(t=1){return new U(this.array.subarray(t))}copy(){let t=new Uint8Array(new ArrayBuffer(this.array.byteLength));return t.set(this.array),new U(t)}equals(t){return S(this.array,U.from(t).array)}toString(t="hex"){if("hex"===t)return this.hexString;if("utf8"===t)return this.utf8String;throw Error(`Unknown encoding: ${t}`)}toABI(t){t.writeVaruint32(this.array.byteLength),t.writeArray(this.array)}toJSON(){return this.hexString}}U.abiName="bytes";class D{static from(t){return P(t,this)?t:new this(P(t,D)?t.array:U.from(t).array)}static fromABI(t){return new this(t.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}constructor(t){let e=this.constructor.byteSize;if(t.byteLength!==e)throw Error(`Checksum size mismatch, expected ${e} bytes got ${t.byteLength}`);this.array=t}equals(t){let e=this.constructor;try{return S(this.array,e.from(t).array)}catch{return!1}}get hexString(){return E(this.array)}toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}D.abiName="__checksum";class q extends D{static from(t){return super.from(t)}static hash(t){return new q(new Uint8Array((0,v.sha256)().update(U.from(t).array).digest()))}}q.abiName="checksum256",q.byteSize=32;class V extends D{static from(t){return super.from(t)}static hash(t){return new V(new Uint8Array((0,v.sha512)().update(U.from(t).array).digest()))}}V.abiName="checksum512",V.byteSize=64;class $ extends D{static from(t){return super.from(t)}static hash(t){return new $(new Uint8Array((0,v.ripemd160)().update(U.from(t).array).digest()))}}$.abiName="checksum160",$.byteSize=20,(i=s||(s={})).K1="K1",i.R1="R1",i.WA="WA",(n=s||(s={})).indexFor=function(t){switch(t){case n.K1:return 0;case n.R1:return 1;case n.WA:return 2;default:throw Error(`Unknown curve type: ${t}`)}},n.from=function(t){switch("number"!=typeof t?n.indexFor(t):t){case 0:return n.K1;case 1:return n.R1;case 2:return n.WA;default:throw Error("Unknown curve type")}};class j{static get max(){return new(b())(2).pow(new(b())(8*this.byteWidth-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new(b())(0)}static add(t,e,r="truncate"){return j.operator(t,e,r,(t,e)=>t.add(e))}static sub(t,e,r){return j.operator(t,e,r,(t,e)=>t.sub(e))}static mul(t,e,r){return j.operator(t,e,r,(t,e)=>t.mul(e))}static div(t,e,r){return j.operator(t,e,r,(t,e)=>{if(e.isZero())throw Error("Division by zero");return t.div(e)})}static divRound(t,e,r){return j.operator(t,e,r,(t,e)=>{if(e.isZero())throw Error("Division by zero");return t.divRound(e)})}static divCeil(t,e,r){return j.operator(t,e,r,(t,e)=>{if(e.isZero())throw Error("Division by zero");let r=t.divmod(e);return r.mod.isZero()?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)})}static gt(t,e){return t.value.gt(e.value)}static lt(t,e){return t.value.lt(e.value)}static gte(t,e){return t.value.gte(e.value)}static lte(t,e){return t.value.lte(e.value)}static operator(t,e,r="truncate",i){let{a:n,b:o}=function(t,e){t=Z(t),e=Z(e);let r=t.constructor,i=e.constructor;return r!==i&&(r.isSigned===i.isSigned?r.byteWidth>i.byteWidth?e=e.cast(r):i.byteWidth>r.byteWidth&&(t=t.cast(i)):!1===r.isSigned&&r.byteWidth>=i.byteWidth?e=e.cast(r):!1===i.isSigned&&i.byteWidth>=r.byteWidth?t=t.cast(i):!0===r.isSigned&&r.max.gte(i.max)&&r.min.lte(i.min)?e=e.cast(r):!0===i.isSigned&&i.max.gte(r.max)&&i.min.lte(r.min)&&(t=t.cast(i))),{a:t,b:e}}(t,e),a=n.constructor,s=i(n.value,o.value);return a.from(s,r)}static from(t,e){let r;if(P(t,this))return t;let i=this;if(P(t,j))i=t.constructor,r=t.value.clone();else if(t instanceof Uint8Array)r=new(b())(t,void 0,"le"),i.isSigned&&(r=r.fromTwos(8*i.byteWidth));else{if("string"==typeof t&&!/[0-9]+/.test(t)||"number"==typeof t&&!Number.isFinite(t))throw Error("Invalid number");(r=b().isBN(t)?t.clone():new(b())(t,10)).isNeg()&&!i.isSigned&&(i={byteWidth:i.byteWidth,isSigned:!0})}switch(e){case"clamp":var n,o,a;n=r,o=this.min,a=this.max,r=b().min(b().max(n,o),a);break;case"truncate":r=function(t,e,r){let i=t.isNeg()?255:0,n=(e.isSigned?t.toTwos(8*e.byteWidth):t).toArrayLike(Uint8Array,"le"),o=new Uint8Array(r.byteWidth);o.fill(i),o.set(n.slice(0,r.byteWidth));let a=new(b())(o,void 0,"le");return r.isSigned?a.fromTwos(8*r.byteWidth):a}(r,i,this)}return new this(r)}static fromABI(t){return this.from(t.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){var t;return this.from((t=this.byteWidth,m()(t)))}constructor(t){let e=this.constructor;if(void 0===e.isSigned||void 0===e.byteWidth)throw Error("Cannot instantiate abstract class Int");if(t.gt(e.max))throw Error(`Number ${t} overflows ${e.abiName}`);if(t.lt(e.min))throw Error(`Number ${t} underflows ${e.abiName}`);this.value=t}cast(t,e="truncate"){return this.constructor===t?this:t.from(this,e)}get byteArray(){let t=this.constructor;return(t.isSigned?this.value.toTwos(8*t.byteWidth):this.value).toArrayLike(Uint8Array,"le",t.byteWidth)}equals(t,e=!1){let r=this.constructor;if(!0===e&&P(t,j)){let e=t.constructor;if(r.byteWidth!==e.byteWidth||r.isSigned!==e.isSigned)return!1}try{return this.value.eq(r.from(t).value)}catch{return!1}}add(t){this.value=this.operator(t,j.add).value}adding(t){return this.operator(t,j.add)}subtract(t){this.value=this.operator(t,j.sub).value}subtracting(t){return this.operator(t,j.sub)}multiply(t){this.value=this.operator(t,j.mul).value}multiplying(t){return this.operator(t,j.mul)}divide(t,e){this.value=this.dividing(t,e).value}dividing(t,e){let r=j.div;switch(e){case"ceil":r=j.divCeil;break;case"round":r=j.divRound}return this.operator(t,r)}gt(t){return j.gt(this,t)}lt(t){return j.lt(this,t)}gte(t){return j.gte(this,t)}lte(t){return j.lte(this,t)}operator(t,e){return e(this,P(t,j)?t:L.from(t,"truncate")).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){return this.value.toString()}[Symbol.toPrimitive](t){return"number"===t?this.toNumber():this.toString()}toABI(t){t.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}j.abiName="__int";class C extends j{}C.abiName="int8",C.byteWidth=1,C.isSigned=!0;class R extends j{}R.abiName="int16",R.byteWidth=2,R.isSigned=!0;class W extends j{}W.abiName="int32",W.byteWidth=4,W.isSigned=!0;class L extends j{}L.abiName="int64",L.byteWidth=8,L.isSigned=!0;class F extends j{}F.abiName="int128",F.byteWidth=16,F.isSigned=!0;class O extends j{}O.abiName="uint8",O.byteWidth=1,O.isSigned=!1;class M extends j{}M.abiName="uint16",M.byteWidth=2,M.isSigned=!1;class z extends j{}z.abiName="uint32",z.byteWidth=4,z.isSigned=!1;class J extends j{}J.abiName="uint64",J.byteWidth=8,J.isSigned=!1;class H extends j{}H.abiName="uint128",H.byteWidth=16,H.isSigned=!1;class K extends j{static fromABI(t){return new this(new(b())(t.readVarint32()))}toABI(t){t.writeVarint32(Number(this))}}K.abiName="varint32",K.byteWidth=32,K.isSigned=!0;class G extends j{static fromABI(t){return new this(new(b())(t.readVaruint32()))}toABI(t){t.writeVaruint32(Number(this))}}function Z(t){let e=t;return t.constructor.byteWidth<4&&(e=t.cast(W)),e}function Y(t){let e=[],r=[],i=[],n=new Set,o=t=>{let e;return e="string"!=typeof t.type?a(t.type):t.type,!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),!0===t.extension&&(e+="$"),e},a=t=>{if(t.abiName){if("__struct"===t.abiName)throw Error("Misconfigured Struct subclass, did you forget @Struct.type?")}else throw Error("Encountered non-conforming type");if(n.has(t))return t.abiName;if(n.add(t),t.abiAlias)i.push({new_type_name:t.abiName,type:o(t.abiAlias)});else if(t.abiFields){let r=t.abiFields.map(t=>({name:t.name,type:o(t)})),i={base:t.abiBase?a(t.abiBase):"",name:t.abiName,fields:r};e.push(i)}else if(t.abiVariant){let e={name:t.abiName,types:t.abiVariant.map(o)};r.push(e)}return t.abiName},s=a(t);return{abi:tf.from({structs:e,variants:r,types:i}),types:Array.from(n),root:s}}function Q(t){let e="string"==typeof t.type?t.type:t.type.abiName;return!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),!0===t.extension&&(e+="$"),e}function X(t){return"string"==typeof t?{type:t}:void 0!==t.abiName?{type:t}:t}G.abiName="varuint32",G.byteWidth=32,G.isSigned=!1;let tt={abiName:"string",abiDefault:()=>"",fromABI:t=>t.readString(),from:t=>t,toABI:(t,e)=>{e.writeString(t)}},te={abiName:"bool",abiDefault:()=>!1,fromABI:t=>1===t.readByte(),from:t=>t,toABI:(t,e)=>{e.writeByte(!0===t?1:0)}};function tr(t=[]){let e={};for(let t of[te,tt,tN,tN.Symbol,tN.SymbolCode,tI,U,$,q,V,tE,tw,t_,tb,F,R,W,L,C,tx,tq,tj,tk,tS,H,M,z,J,O,K,G])e[t.abiName]=t;for(let r of t){if(!r.abiName)throw Error("Invalid type");e[r.abiName]=r}return e}function ti(t){if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor.abiName;if(Array.isArray(t)){let e=t.map(ti),r=e[0];if(!r||!e.every(t=>t===r))return;return r+"[]"}switch(typeof t){case"boolean":return"bool";case"string":return"string"}}function tn(t,e="jsobj"){var r;if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor;if(Array.isArray(t)){let r=t.map(t=>tn(t,e)),i=r[0];if(!i||!r.every(t=>t&&t.abiName===i.abiName))return;return i}let i=typeof t;if("object"===i&&null!==t){let i=Object.keys(t).map(r=>({name:r,type:tn(t[r],e+"_nested")}));if(i.find(t=>!t.type))return;return(r=class extends ty{}).abiName=e,r.abiFields=i,r}switch(i){case"boolean":return te;case"string":return tt}}class to extends Error{constructor(t,e){super(`Decoding error at ${t.codingPath.map(({field:t,type:e})=>"number"==typeof t?t:`${t}<${e.typeName}>`).join(".")}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function ta(t){let e;let r=X(t.type),i=Q(r),n=t.customTypes||[];if(t.abi)e=tf.from(t.abi);else try{let t;if("string"==typeof r.type){if(!(t=tr(n)[new tf.ResolvedType(r.type).name]))throw Error(`Unknown type: ${r.type}`)}else t=r.type;let i=Y(t);e=i.abi,n.push(...i.types)}catch(t){throw Error(`Unable to synthesize ABI for: ${i} (${t.message}). To decode non-class types you need to pass the ABI definition manually.`)}let o=e.resolveType(i);"string"!=typeof r.type&&n.unshift(r.type);let a={types:tr(n),strictExtensions:t.strictExtensions||!1,codingPath:[{field:"root",type:o}]};try{if(t.data||""===t.data){let e;if(P(t.data,tc))e=t.data;else{let r=U.from(t.data),i=void 0===t.ignoreInvalidUTF8||!t.ignoreInvalidUTF8;e=new tc(r.array,new TextDecoder("utf-8",{fatal:i}))}return t.metadata&&(e.metadata=t.metadata),function t(e,r,i){if(i.codingPath.length>32)throw Error("Maximum decoding depth exceeded");if(e.isExtension&&!r.canRead())return i.strictExtensions?td(e,i):null;if(e.isOptional&&0===r.readByte())return null;if(!e.isArray)return n();{let t=r.readVaruint32(),o=[];for(let r=0;r<t;r++)i.codingPath.push({field:r,type:e}),o.push(n()),i.codingPath.pop();return o}function n(){let n=i.types[e.name];if(n&&n.fromABI)return n.fromABI(r);if(e.ref){i.codingPath.push({field:"",type:e.ref});let n=t(e.ref,r,i);return i.codingPath.pop(),n}if(e.fields){let o=e.allFields;if(!o)throw Error("Invalid struct fields");let a={};for(let e of o)i.codingPath.push({field:e.name,type:e.type}),a[e.name]=t(e.type,r,i),i.codingPath.pop();return n?(a[ts]=!0,n.from(a)):a}if(e.variant){let o=r.readByte(),a=e.variant[o];if(!a)throw Error(`Unknown variant idx: ${o}`);i.codingPath.push({field:`v${o}`,type:a});let s=[a.typeName,t(a,r,i)];return(i.codingPath.pop(),n)?n.from(s):s}if(n)throw Error("Invalid type");throw Error("any"===e.name?"Unable to decode 'any' type from binary":"Unknown type")}}(o,e,a)}if(void 0!==t.object)return tl(t.object,o,a);if(t.json)return tl(JSON.parse(t.json),o,a);throw Error("Nothing to decode, you must set one of data, json, object")}catch(t){throw new to(a,t)}}to.__className="DecodingError";let ts=Symbol("Resolved");function tl(t,e,r){if(null==t){if(e.isOptional)return null;if(e.isExtension)return r.strictExtensions?td(e,r):null;throw Error(`Unexpectedly encountered ${t} for non-optional (${r.codingPath.map(t=>t.field).join(".")})`)}if(!e.isArray)return i(t);{if(!Array.isArray(t))throw Error("Expected array");let n=[],o=t.length;for(let a=0;a<o;a++)r.codingPath.push({field:a,type:e}),n.push(i(t[a])),r.codingPath.pop();return n}function i(t){let i=r.types[e.name];if(e.ref&&!i)return tl(t,e.ref,r);if(e.fields){if("object"!=typeof t)throw Error("Expected object");if("function"==typeof i&&P(t,i))return t;let n=e.allFields;if(!n)throw Error("Invalid struct fields");let o={};for(let e of n)r.codingPath.push({field:e.name,type:e.type}),o[e.name]=tl(t[e.name],e.type,r),r.codingPath.pop();return i?(o[ts]=!0,i.from(o)):o}if(e.variant){let n;Array.isArray(t)&&2===t.length&&"string"==typeof t[0]?(n=t[0],t=t[1]):P(t,tm)?(n=t.variantName,t=t.value):n=ti(t);let o=e.variant.findIndex(t=>t.typeName===n);if(-1===o)throw Error(`Unknown variant type: ${n}`);let a=e.variant[o];r.codingPath.push({field:`v${o}`,type:a});let s=[a.typeName,tl(t,a,r)];return(r.codingPath.pop(),i)?(s[ts]=!0,i.from(s)):s}if(!i){if("any"===e.name)return t;throw Error("Unknown type")}return i.from(t)}}function td(t,e,r=new Set){if(t.isArray)return[];if(t.isOptional)return null;let i=e.types[t.name];if(i&&i.abiDefault)return i.abiDefault();if(r.has(t.name))throw Error("Circular type reference");if(r.add(t.name),t.allFields){let n={};for(let i of t.allFields)e.codingPath.push({field:i.name,type:i.type}),n[i.name]=td(i.type,e,r),e.codingPath.pop();return i?(n[ts]=!0,i.from(n)):n}if(t.variant&&t.variant.length>0){let r=[t.variant[0].typeName,td(t.variant[0],e)];return i?(r[ts]=!0,i.from(r)):r}if(t.ref){e.codingPath.push({field:"",type:t.ref});let i=td(t.ref,e,r);return e.codingPath.pop(),i}throw Error("Unable to determine default value")}class tc{constructor(t,e){this.array=t,this.pos=0,this.metadata={},this.textDecoder=e||new TextDecoder("utf-8",{fatal:!0}),this.data=new DataView(t.buffer,t.byteOffset,t.byteLength)}canRead(t=1){return!(this.pos+t>this.array.byteLength)}ensure(t){if(!this.canRead(t))throw Error("Read past end of buffer")}setPosition(t){if(t<0||t>this.array.byteLength)throw Error("Invalid position");this.pos=t}getPosition(){return this.pos}advance(t){this.ensure(t),this.pos+=t}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(t){let e;switch(this.ensure(t),t){case 4:e=this.data.getFloat32(this.pos,!0);break;case 8:e=this.data.getFloat64(this.pos,!0);break;default:throw Error("Invalid float size")}return this.pos+=t,e}readVaruint32(){let t=0,e=0;for(;;){let r=this.readByte();if(t|=(127&r)<<e,e+=7,!(128&r))break}return t>>>0}readVarint32(){let t=this.readVaruint32();return 1&t?~t>>1|2147483648:t>>>1}readArray(t){this.ensure(t);let e=this.array.subarray(this.pos,this.pos+t);return this.pos+=t,e}readString(){let t=this.readVaruint32();return this.textDecoder.decode(this.readArray(t))}}tc.__className="ABIDecoder";class tu extends Error{constructor(t,e){super(`Encoding error at ${t.codingPath.map(({field:t,type:e})=>"number"==typeof t?t:`${t}<${e.typeName}>`).join(".")}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function tp(t){let e,r,i;if("string"==typeof t.type)r=t.type;else{var n;t.type&&"string"!=typeof(n=t.type)&&void 0===n.abiName&&void 0!==n.type?("string"!=typeof t.type.type&&(e=t.type.type),r=Q(t.type)):t.type&&void 0!==t.type.abiName?(e=t.type,r=t.type.abiName):(e=tn(t.object))&&(r=e.abiName,Array.isArray(t.object)&&(r+="[]"))}let o=t.customTypes?t.customTypes.slice():[];if(e)o.unshift(e);else if(r){let t=new tf.ResolvedType(r).name;e=o.find(e=>e.abiName===t)}if(t.abi&&r)i=tf.from(t.abi).resolveType(r);else if(e){let t=Y(e);i=t.abi.resolveType(r||e.abiName),o.push(...t.types)}else if(r)i=new tf.ResolvedType(r);else throw Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");let a=tr(o),s=t.encoder||new th;t.metadata&&(s.metadata=t.metadata);let l={types:a,encoder:s,codingPath:[{field:"root",type:i}]};try{!function t(e,r,i){let n=null!=e;if(!r.isOptional||(i.encoder.writeByte(n?1:0),n)){if(r.isArray){if(!Array.isArray(e))throw Error(`Expected array for: ${r.typeName}`);let t=e.length;i.encoder.writeVaruint32(t);for(let n=0;n<t;n++)i.codingPath.push({field:n,type:r}),o(e[n]),i.codingPath.pop()}else o(e)}function o(e){let o=i.types[r.name];if(r.ref&&!o){t(e,r.ref,i);return}if(!n){if(r.isExtension)return;throw Error(`Found ${e} for non-optional type: ${r.typeName} (${i.codingPath.map(t=>t.field).join(".")})`)}if(o&&o.toABI)o.toABI(e,i.encoder);else if("function"==typeof e.toABI&&e.constructor.abiName===r.name)e.toABI(i.encoder);else if(r.fields){if("object"!=typeof e)throw Error(`Expected object for: ${r.name}`);let n=r.allFields;if(!n)throw Error("Invalid struct fields");for(let r of n)i.codingPath.push({field:r.name,type:r.type}),t(e[r.name],r.type,i),i.codingPath.pop()}else if(r.variant){let n;Array.isArray(e)&&2===e.length&&"string"==typeof e[0]?(n=e[0],e=e[1]):P(e,tm)?(n=e.variantName,e=e.value):n=ti(e);let o=r.variant.findIndex(t=>t.typeName===n);if(-1===o){let t=r.variant.map(t=>`'${t.typeName}'`).join(", ");throw Error(`Unknown variant type '${n}', expected one of ${t}`)}let a=r.variant[o];i.encoder.writeVaruint32(o),i.codingPath.push({field:`v${o}`,type:a}),t(e,a,i),i.codingPath.pop()}else{if(!o)throw Error("any"===r.name?"Unable to encode any type to binary":"Unknown type");let t=o.from(e);if(!t.toABI)throw Error(`Invalid type ${r.name}, no encoding methods implemented`);t.toABI(i.encoder)}}}(t.object,i,l)}catch(t){throw new tu(l,t)}return U.from(s.getData())}tu.__className="EncodingError";class th{constructor(t=1024){this.pageSize=t,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};let e=new ArrayBuffer(t);this.data=new DataView(e),this.array=new Uint8Array(e)}ensure(t){if(this.data.byteLength>=this.pos+t)return;let e=Math.ceil(t/this.pageSize),r=new ArrayBuffer(this.data.byteLength+this.pageSize*e),i=new DataView(r),n=new Uint8Array(r);n.set(this.array),this.data=i,this.array=n}writeByte(t){this.ensure(1),this.array[this.pos++]=t}writeArray(t){let e=t.length;this.ensure(e),this.array.set(t,this.pos),this.pos+=e}writeFloat(t,e){switch(this.ensure(e),e){case 4:this.data.setFloat32(this.pos,t,!0);break;case 8:this.data.setFloat64(this.pos,t,!0);break;default:throw Error("Invalid float size")}this.pos+=e}writeVaruint32(t){for(this.ensure(4);;)if(t>>>7)this.array[this.pos++]=128|127&t,t>>>=7;else{this.array[this.pos++]=t;break}}writeVarint32(t){this.writeVaruint32(t<<1^t>>31)}writeString(t){let e=this.textEncoder.encode(t);this.writeVaruint32(e.byteLength),this.writeArray(e)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new U(this.getData())}}th.__className="ABIEncoder";class tf{constructor(t){this.version=t.version||tf.version,this.types=t.types||[],this.variants=t.variants||[],this.structs=t.structs||[],this.actions=t.actions||[],this.tables=t.tables||[],this.ricardian_clauses=t.ricardian_clauses||[],this.action_results=t.action_results||[]}static from(t){return P(t,tf)?t:P(t,T)?ta({data:t.array,type:this}):new tf("string"==typeof t?JSON.parse(t):t)}static fromABI(t){let e=t.readString(),r=[],i=t.readVaruint32();for(let e=0;e<i;e++)r.push({new_type_name:t.readString(),type:t.readString()});let n=[],o=t.readVaruint32();for(let e=0;e<o;e++){let e=t.readString(),r=t.readString(),i=t.readVaruint32(),o=[];for(let e=0;e<i;e++)o.push({name:t.readString(),type:t.readString()});n.push({base:r,name:e,fields:o})}let a=[],s=t.readVaruint32();for(let e=0;e<s;e++){let e=tx.fromABI(t),r=t.readString(),i=t.readString();a.push({name:e,type:r,ricardian_contract:i})}let l=[],d=t.readVaruint32();for(let e=0;e<d;e++){let e=tx.fromABI(t),r=t.readString(),i=[],n=t.readVaruint32();for(let e=0;e<n;e++)i.push(t.readString());let o=[],a=t.readVaruint32();for(let e=0;e<a;e++)o.push(t.readString());let s=t.readString();l.push({name:e,index_type:r,key_names:i,key_types:o,type:s})}let c=[],u=t.readVaruint32();for(let e=0;e<u;e++){let e=t.readString(),r=t.readString();c.push({id:e,body:r})}let p=t.readVaruint32();for(let e=0;e<p;e++)t.advance(8),t.advance(t.readVaruint32());let h=t.readVaruint32();for(let e=0;e<h;e++)t.advance(2),t.advance(t.readVaruint32());let f=[];if(t.canRead()){let e=t.readVaruint32();for(let r=0;r<e;r++){let e=t.readString(),r=[],i=t.readVaruint32();for(let e=0;e<i;e++)r.push(t.readString());f.push({name:e,types:r})}}let y=[];if(t.canRead()){let e=t.readVaruint32();for(let r=0;r<e;r++){let e=tx.fromABI(t),r=t.readString();y.push({name:e,result_type:r})}}return new tf({version:e,types:r,structs:n,actions:a,tables:l,ricardian_clauses:c,variants:f,action_results:y})}toABI(t){for(let e of(t.writeString(this.version),t.writeVaruint32(this.types.length),this.types))t.writeString(e.new_type_name),t.writeString(e.type);for(let e of(t.writeVaruint32(this.structs.length),this.structs))for(let r of(t.writeString(e.name),t.writeString(e.base),t.writeVaruint32(e.fields.length),e.fields))t.writeString(r.name),t.writeString(r.type);for(let e of(t.writeVaruint32(this.actions.length),this.actions))tx.from(e.name).toABI(t),t.writeString(e.type),t.writeString(e.ricardian_contract);for(let e of(t.writeVaruint32(this.tables.length),this.tables)){for(let r of(tx.from(e.name).toABI(t),t.writeString(e.index_type),t.writeVaruint32(e.key_names.length),e.key_names))t.writeString(r);for(let r of(t.writeVaruint32(e.key_types.length),e.key_types))t.writeString(r);t.writeString(e.type)}for(let e of(t.writeVaruint32(this.ricardian_clauses.length),this.ricardian_clauses))t.writeString(e.id),t.writeString(e.body);for(let e of(t.writeVaruint32(0),t.writeVaruint32(0),t.writeVaruint32(this.variants.length),this.variants))for(let r of(t.writeString(e.name),t.writeVaruint32(e.types.length),e.types))t.writeString(r);for(let e of(t.writeVaruint32(this.action_results.length),this.action_results))tx.from(e.name).toABI(t),t.writeString(e.result_type)}resolveType(t){return this.resolve({name:t,types:{}},{id:0})}resolveAll(){let t={},e={id:0};return{types:this.types.map(r=>this.resolve({name:r.new_type_name,types:t},e)),variants:this.variants.map(r=>this.resolve({name:r.name,types:t},e)),structs:this.structs.map(r=>this.resolve({name:r.name,types:t},e))}}resolve({name:t,types:e},r){let i=e[t];if(i)return i;let n=new tf.ResolvedType(t,++r.id);e[n.typeName]=n;let o=this.types.find(t=>t.new_type_name==n.name);if(o)return n.ref=this.resolve({name:o.type,types:e},r),n;let a=this.getStruct(n.name);if(a)return a.base&&(n.base=this.resolve({name:a.base,types:e},r)),n.fields=a.fields.map(t=>({name:t.name,type:this.resolve({name:t.type,types:e},r)})),n;let s=this.getVariant(n.name);return s&&(n.variant=s.types.map(t=>this.resolve({name:t,types:e},r))),n}getStruct(t){return this.structs.find(e=>e.name==t)}getVariant(t){return this.variants.find(e=>e.name==t)}getActionType(t){let e=tx.from(t).toString(),r=this.actions.find(t=>t.name.toString()===e);if(r)return r.type}equals(t){let e=tf.from(t);return this.version==e.version&&this.types.length==e.types.length&&this.structs.length==e.structs.length&&this.actions.length==e.actions.length&&this.tables.length==e.tables.length&&this.ricardian_clauses.length==e.ricardian_clauses.length&&this.variants.length==e.variants.length&&this.action_results.length==e.action_results.length&&tp({object:this}).equals(tp({object:e}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants,action_results:this.action_results}}}tf.abiName="abi",tf.version="eosio::abi/1.1",function(t){class e{constructor(t,e=0){let r=t;r.endsWith("$")?(r=r.slice(0,-1),this.isExtension=!0):this.isExtension=!1,r.endsWith("?")?(r=r.slice(0,-1),this.isOptional=!0):this.isOptional=!1,r.endsWith("[]")?(r=r.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=e,this.name=r}get typeName(){let t=this.name;return this.isArray&&(t+="[]"),this.isOptional&&(t+="?"),this.isExtension&&(t+="$"),t}get allFields(){let t=this,e=[],r=new Set;do{if(!t.fields||r.has(t.name))return;for(let r=t.fields.length-1;r>=0;r--)e.unshift(t.fields[r]);r.add(t.name),t=t.base}while(void 0!==t);return e}}t.ResolvedType=e}(tf||(tf={}));class ty{static from(t){return!0===t[ts]?new this(t):P(t,this)?t:ta({object:t,type:this})}static get structFields(){let t=[],e=r=>{for(let i of(r.abiBase&&e(r.abiBase),r.abiFields||[]))t.push(i)};return e(this),t}constructor(t){for(let e of this.constructor.structFields){let r="string"==typeof e.type?new tf.ResolvedType(String(e.type)).isOptional:e.optional,i=t[e.name];(!r||i)&&(this[e.name]=i)}}equals(t){let e=this.constructor;return(!t.constructor||"string"!=typeof t.constructor.abiName||t.constructor.abiName===e.abiName)&&tp({object:this}).equals(tp({object:e.from(t)}))}toJSON(){let t=this.constructor,e={};for(let r of t.structFields)(!r.optional||this[r.name])&&(e[r.name]=this[r.name]);return e}}function tg(t){return function(e){return e.abiAlias={type:Object.getPrototypeOf(e.prototype).constructor},e.abiName=t,e}}ty.abiName="__struct",function(t){let e=Symbol("FieldsOwner");t.type=function(t){return function(e){return e.abiName=t,e}},t.field=function(t,r={}){return(i,n)=>{let o=i.constructor;o.abiFields?o.abiFields[e]!==o&&(o.abiBase=o.abiFields[e],o.abiFields=[],o.abiFields[e]=o):(o.abiFields=[],o.abiFields[e]=o),o.abiFields.push({...r,name:n,type:t})}}}(ty||(ty={}));class tm{static from(t){return t[ts]?new this(t):P(t,this)?t:ta({object:t,type:this})}constructor(t){let e=this.constructor.abiVariant;this.value=t[1];let r=e.map(Q).findIndex(e=>e===t[0]);if(0>r||e.length<=r)throw Error(`Unknown variant ${t[0]}`);this.variantIdx=r}equals(t){let e=this.constructor.from(t);return this.variantIdx===e.variantIdx&&tp({object:this}).equals(tp({object:e}))}get variantName(){return Q(this.constructor.abiVariant[this.variantIdx])}toJSON(){return[this.variantName,this.value]}}tm.abiName="__variant",tm.abiVariant=[],(tm||(tm={})).type=function(t,e){return function(r){return r.abiName=t,r.abiVariant=e.map(X),r}};class tv{static from(t){return P(t,this)?t:("string"==typeof t?t=Number.parseFloat(t):P(t,tv)&&(t=t.value),new this(t))}static fromABI(t){return new this(t.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){var t;let e=new tc((t=this.byteWidth,m()(t)));return this.fromABI(e)}constructor(t){this.value=t}equals(t){let e=this.constructor;return this.value===e.from(t).value}toABI(t){let e=this.constructor;t.writeFloat(this.value,e.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}tv.abiName="__float";class t_ extends tv{toString(){return this.value.toFixed(7)}}t_.abiName="float32",t_.byteWidth=4;class tb extends tv{}tb.abiName="float64",tb.byteWidth=8;class tw{static from(t){return P(t,this)?t:("string"==typeof t&&t.startsWith("0x")&&(t=t.slice(2)),new this(U.from(t)))}static fromABI(t){return new this(new U(t.readArray(this.byteWidth)))}static random(){let t=new tc(m()(16));return this.fromABI(t)}constructor(t){if(16!==t.array.length)throw Error("Invalid float128");this.data=t}equals(t){let e=this.constructor;return this.data.equals(e.from(t).data)}toABI(t){t.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}tw.abiName="float128",tw.byteWidth=16;class tx{get rawValue(){return this.value}static from(t){if(P(t,tx))return t;if("string"==typeof t)return new tx(function(t){let e=new Uint8Array(8),r=63;for(let n=0;n<t.length;++n){var i;let o=(i=t.charCodeAt(n))>=97&&i<=122?i-97+6:i>=49&&i<=53?i-49+1:0;r<5&&(o<<=1);for(let t=4;t>=0;--t)r>=0&&(e[Math.floor(r/8)]|=(o>>t&1)<<r%8,--r)}return J.from(e)}(t));if(P(t,J))return new tx(t);throw Error("Invalid name")}static fromABI(t){return new tx(J.fromABI(t))}static abiDefault(){return new this(J.from(0))}constructor(t){this.value=t}equals(t){return this.value.equals(tx.from(t).value)}toString(){return function(t){let e=t.value.toArray("le",8),r="";for(let t=63;t>=0;){let i=0;for(let r=0;r<5;++r)t>=0&&(i=i<<1|e[Math.floor(t/8)]>>t%8&1,--t);i>=6?r+=String.fromCharCode(i+97-6):i>=1?r+=String.fromCharCode(i+49-1):r+="."}for(;r.endsWith(".");)r=r.substr(0,r.length-1);return r}(this.value)}toABI(t){this.value.toABI(t)}toJSON(){return this.toString()}}tx.abiName="name",tx.pattern=/^[a-z1-5.]{0,13}$/;class tA{static from(t){return P(t,this)?t:P(t,tA)?this.fromMilliseconds(t.toMilliseconds()):P(t,Date)?this.fromDate(t):"string"==typeof t?this.fromString(t):this.fromInteger(t)}static fromString(t){let e=Date.parse(t+"Z");if(!Number.isFinite(e))throw Error("Invalid date string");return this.fromMilliseconds(e)}static fromDate(t){return this.fromMilliseconds(t.getTime())}static abiDefault(){return this.from(0)}toABI(t){this.value.toABI(t)}equals(t){let e=this.constructor;return this.toMilliseconds()===e.from(t).toMilliseconds()}toMilliseconds(){throw Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}tA.abiName="__time_point_base";class tk extends tA{static fromMilliseconds(t){return new this(L.from(Math.round(1e3*t)))}static fromInteger(t){return new this(L.from(t))}static fromABI(t){return new this(L.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}tk.abiName="time_point";class tS extends tA{static fromMilliseconds(t){return new this(z.from(Math.round(t/1e3)))}static fromInteger(t){return new this(z.from(t))}static fromABI(t){return new this(z.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(J).multiplying(1e3))}}tS.abiName="time_point_sec";class tI extends tA{static fromMilliseconds(t){return new this(z.from(Math.round((t-9466848e5)/500)))}static fromInteger(t){return new this(z.from(t))}static fromABI(t){return new this(z.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(J).multiplying(500).adding(9466848e5))}}tI.abiName="block_timestamp_type";class tN{static from(t,e){if(P(t,tN))return t;switch(typeof t){case"number":if(!e)throw Error("Symbol is required when creating Asset from number");return this.fromFloat(t,e);case"string":return this.fromString(t);default:throw Error("Invalid asset")}}static fromString(t){let e=("string"==typeof t?t:"").split(" ");if(2!==e.length)throw Error("Invalid asset string");let r=e[0].replace(".",""),i=(e[0].split(".")[1]||"").length,n=tN.Symbol.fromParts(e[1],i);return new tN(L.from(r),n)}static fromFloat(t,e){let r=tN.Symbol.from(e);return new tN(r.convertFloat(t),r)}static fromUnits(t,e){return new tN(L.from(t),tN.Symbol.from(e))}static fromABI(t){let e=L.fromABI(t),r=tN.Symbol.fromABI(t);return new tN(e,r)}static abiDefault(){return new this(L.from(0),tN.Symbol.abiDefault())}static formatUnits(t,e){let r=L.from(t).toString().split(""),i=!1;for("-"===r[0]&&(i=!0,r.shift());r.length<=e;)r.unshift("0");e>0&&r.splice(r.length-e,0,".");let n=r.join("");return i&&(n="-"+n),n}constructor(t,e){this.units=t,this.symbol=e}equals(t){let{symbol:e,units:r}=tN.from(t);return this.symbol.value.equals(e.value)&&this.units.equals(r)}get value(){return this.symbol.convertUnits(this.units)}set value(t){this.units=this.symbol.convertFloat(t)}get quantity(){return tN.formatUnits(this.units,this.symbol.precision)}toABI(t){this.units.toABI(t),this.symbol.toABI(t)}toString(){return this.quantity+" "+this.symbol.name}toJSON(){return this.toString()}}tN.abiName="asset",function(t){class e{static from(t){if(P(t,e))return t;if(P(t,J))return new e(t);let r=t.split(",");if(2!==r.length&&"0,"!==t)throw Error("Invalid symbol string");"0,"===t&&r.push("");let i=Number.parseInt(r[0]);return e.fromParts(r[1],i)}static fromParts(t,r){return new e(function(t,e){let r=tD(t),i=new Uint8Array(r.length+1);return i[0]=e,i.set(r,1),J.from(i)}(t,r))}static fromABI(t){return new e(J.fromABI(t))}static abiDefault(){return this.from("4,SYS")}constructor(t){if(tP(t)>e.maxPrecision)throw Error("Invalid asset symbol, precision too large");if(!t.equals(0)&&!r.pattern.test(tT(t)))throw Error("Invalid asset symbol, name must be uppercase A-Z");this.value=t}equals(t){return this.value.equals(e.from(t).value)}get name(){return tT(this.value)}get precision(){return tP(this.value)}get code(){return new r(J.from(this.value.value.clone().iushrn(8)))}toABI(t){this.value.toABI(t)}convertUnits(t){return t.value.toNumber()/Math.pow(10,this.precision)}convertFloat(t){return L.from(t.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}e.abiName="symbol",e.maxPrecision=18,t.Symbol=e;class r{static from(t){return P(t,r)?t:("string"==typeof t&&(t=J.from(tD(t))),new this(J.from(t)))}static fromABI(t){return new r(J.fromABI(t))}static abiDefault(){return this.from("SYS")}constructor(t){if(!t.equals(0)&&!r.pattern.test(tT(t)))throw Error("Invalid asset symbol, name must be uppercase A-Z");this.value=t}equals(t){return this.value.equals(r.from(t).value)}toABI(t){this.value.toABI(t)}toString(){return tU(this.value.value.toArray("be"))}toJSON(){return this.toString()}}r.abiName="symbol_code",r.pattern=/^[A-Z]{0,7}$/,t.SymbolCode=r}(tN||(tN={}));class tE{static from(t){return P(t,tE)?t:new this(tN.from(t.quantity),tx.from(t.contract))}static fromABI(t){return new tE(tN.fromABI(t),tx.fromABI(t))}constructor(t,e){this.quantity=t,this.contract=e}equals(t){return this.quantity.equals(t.quantity)&&this.contract.equals(t.contract)}toABI(t){this.quantity.toABI(t),this.contract.toABI(t)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}tE.abiName="extended_asset";class tB{static from(t){return P(t,tB)?t:new this(tN.Symbol.from(t.sym),tx.from(t.contract))}static fromABI(t){return new tB(tN.Symbol.fromABI(t),tx.fromABI(t))}constructor(t,e){this.sym=t,this.contract=e}equals(t){return this.sym.equals(t.sym)&&this.contract.equals(t.contract)}toABI(t){this.sym.toABI(t),this.contract.toABI(t)}toJSON(){return{sym:this.sym,contract:this.contract}}}function tP(t){return t.value.and(J.from(255).value).toNumber()}function tT(t){return tU(t.value.toArray("be").slice(0,-1))}function tU(t){return t.map(t=>String.fromCharCode(t)).reverse().join("")}function tD(t){let e=Math.min(t.length,7),r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.charCodeAt(i);return r}tB.abiName="extended_symbol",function(t){var e;let r;(e=r=t.ErrorCode||(t.ErrorCode={})).E_CHECKSUM="E_CHECKSUM",e.E_INVALID="E_INVALID";class i extends Error{constructor(t,e,r={}){super(t),this.code=e,this.info=r}}i.__className="DecodingError",t.DecodingError=i;let n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",o=new Int16Array(255).fill(-1);for(let t=0;t<58;++t)o[n.charCodeAt(t)]=t;function a(t,e){if(null==e)return function(t){let e=[];for(let n=0;n<t.length;++n){let a=o[t.charCodeAt(n)];if(a<0)throw new i("Invalid Base58 character encountered",r.E_INVALID,{char:t[n]});for(let t=0;t<e.length;++t){let r=58*e[t]+a;e[t]=255&r,a=r>>8}a&&e.push(a)}for(let r of t)if("1"===r)e.push(0);else break;return e.reverse(),U.from(e)}(t);let n=new Uint8Array(e);for(let a=0;a<t.length;++a){let s=o[t.charCodeAt(a)];if(s<0)throw new i("Invalid Base58 character encountered",r.E_INVALID,{char:t[a]});for(let t=0;t<e;++t){let e=58*n[t]+s;n[t]=e,s=e>>8}if(s)throw new i("Base58 value is out of range",r.E_INVALID)}return n.reverse(),new U(n)}function s(t){t=U.from(t);let e=[];for(let r of t.array){let t=r;for(let r=0;r<e.length;++r){let i=(o[e[r]]<<8)+t;e[r]=n.charCodeAt(i%58),t=i/58|0}for(;t;)e.push(n.charCodeAt(t%58)),t=t/58|0}for(let r of t.array){if(r)break;e.push(49)}return e.reverse(),String.fromCharCode(...e)}function l(t,e){let r=(0,v.ripemd160)().update(t);return e&&r.update(e),new Uint8Array(r.digest().slice(0,4))}function d(t){let e=(0,v.sha256)().update(t).digest();return new Uint8Array((0,v.sha256)().update(e).digest().slice(0,4))}t.decode=a,t.decodeCheck=function(t,e){let n=a(t,null!=e?e+4:e),o=n.array.subarray(0,-4),s=n.array.subarray(-4),l=d(o);if(!S(s,l))throw new i("Checksum mismatch",r.E_CHECKSUM,{actual:l,expected:s,data:o,hash:"double_sha256"});return new U(o)},t.decodeRipemd160Check=function(t,e,n){let o=a(t,null!=e?e+4:e),s=o.array.subarray(0,-4),d=o.array.subarray(-4),c=l(s,n);if(!S(d,c))throw new i("Checksum mismatch",r.E_CHECKSUM,{actual:c,expected:d,data:s,hash:"ripemd160"});return new U(s)},t.encode=s,t.encodeCheck=function(t){return s(t=(t=U.from(t)).appending(d(t.array)))},t.encodeRipemd160Check=function(t,e){return s(t=(t=U.from(t)).appending(l(t.array,e)))}}(l||(l={}));class tq{static from(t){if(P(t,tq))return t;if("object"==typeof t&&t.type&&t.compressed)return new tq(s.from(t.type),new U(t.compressed));if("string"!=typeof t)throw Error("Invalid public key");if(t.startsWith("PUB_")){let e=t.split("_");if(3!==e.length)throw Error("Invalid public key string");let r=s.from(e[1]),i=r===s.K1||r===s.R1?33:void 0,n=l.decodeRipemd160Check(e[2],i,r);return new tq(r,n)}if(t.length>=50){let e=l.decodeRipemd160Check(t.slice(-50));return new tq(s.K1,e)}throw Error("Invalid public key string")}static fromABI(t){let e=s.from(t.readByte());if(e==s.WA){let e=t.getPosition();t.advance(33),t.advance(1),t.advance(t.readVaruint32());let r=t.getPosition()-e;t.setPosition(e);let i=U.from(t.readArray(r));return new tq(s.WA,i)}return new tq(e,new U(t.readArray(33)))}constructor(t,e){this.type=t,this.data=e}equals(t){let e=tq.from(t);return this.type===e.type&&this.data.equals(e.data)}toLegacyString(t="EOS"){if(this.type!==s.K1)throw Error("Unable to create legacy formatted string for non-K1 key");return`${t}${l.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${l.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(s.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}tq.abiName="public_key";let tV={};function t$(t){let e=tV[t];if(!e){if("K1"===t)e=tV[t]=new w.ec("secp256k1");else if("R1"===t)e=tV[t]=new w.ec("p256");else throw Error(`Unknown curve type: ${t}`)}return e}class tj{static from(t){if(P(t,tj))return t;if("object"==typeof t&&t.r&&t.s){let e=new Uint8Array(65),r=t.recid,i=s.from(t.type);return(t.type===s.K1||t.type===s.R1)&&(r+=31),e[0]=r,e.set(t.r,1),e.set(t.s,33),new tj(i,new U(e))}if("string"!=typeof t)throw Error("Invalid signature");if(t.startsWith("SIG_")){let e=t.split("_");if(3!==e.length)throw Error("Invalid signature string");let r=s.from(e[1]),i=r===s.K1||r===s.R1?65:void 0,n=l.decodeRipemd160Check(e[2],i,r);return new tj(r,n)}throw Error("Invalid signature string")}static fromABI(t){let e=s.from(t.readByte());if(e===s.WA){let e=t.getPosition();t.advance(65),t.advance(t.readVaruint32()),t.advance(t.readVaruint32());let r=t.getPosition()-e;t.setPosition(e);let i=U.from(t.readArray(r));return new tj(s.WA,i)}return new tj(e,new U(t.readArray(65)))}constructor(t,e){this.type=t,this.data=e}equals(t){let e=tj.from(t);return this.type===e.type&&this.data.equals(e.data)}recoverDigest(t){t=q.from(t);let e=function(t,e,r){let i=t$(r),n=t[0]-31,o=t.subarray(1,33),a=t.subarray(33);return new Uint8Array(i.recoverPubKey(e,{r:o,s:a},n).encodeCompressed())}(this.data.array,t.array,this.type);return tq.from({compressed:e,type:this.type})}recoverMessage(t){return this.recoverDigest(q.hash(t))}verifyDigest(t,e){return t=q.from(t),function(t,e,r,i){let n=t$(i),o=t.subarray(1,33),a=t.subarray(33);return n.verify(e,{r:o,s:a},r)}(this.data.array,t.array,e.data.array,this.type)}verifyMessage(t,e){return this.verifyDigest(q.hash(t),e)}toString(){return`SIG_${this.type}_${l.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(s.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}tj.abiName="signature";class tC{static from(t){return P(t,tC)?t:this.fromString(t)}static fromString(t,e=!1){try{let{type:e,data:r}=function(t){let e=typeof t;if("string"!==e)throw Error(`Expected string, got ${e}`);if(t.startsWith("PVT_")){let e;let r=t.split("_");if(3!==r.length)throw Error("Invalid PVT format");let i=s.from(r[1]);switch(i){case s.K1:case s.R1:e=32}let n=l.decodeRipemd160Check(r[2],e,i);return{type:i,data:n}}{let e=s.K1,r=l.decodeCheck(t);if(128!==r.array[0])throw Error("Invalid WIF");return{type:e,data:r.droppingFirst()}}}(t);return new this(e,r)}catch(r){if(r.message=`Invalid private key (${r.message})`,e&&P(r,l.DecodingError)&&r.code===l.ErrorCode.E_CHECKSUM){let e=t.startsWith("PVT_R1")?s.R1:s.K1,i=new U(r.info.data);return 33===i.length&&i.dropFirst(),i.zeropad(32,!0),new this(e,i)}throw r}}static generate(t){return new tC(s.from(t),new U(t$(t).genKeyPair().getPrivate().toArrayLike(Uint8Array,"be",32)))}constructor(t,e){if((t===s.K1||t===s.R1)&&32!==e.length)throw Error("Invalid private key length");this.type=t,this.data=e}signDigest(t){return t=q.from(t),tj.from(function(t,e,r){let i,n,o;let a=t$(r).keyFromPrivate(t);if("K1"===r){var s,l;let t=1;do n=(i=a.sign(e,{canonical:!0,pers:[t++]})).r.toArrayLike(Uint8Array,"be",32),o=i.s.toArrayLike(Uint8Array,"be",32);while(s=n,l=o,!!(128&s[0])||!!(0===s[0]&&!(128&s[1]))||!!(128&l[0])||!!(0===l[0]&&!(128&l[1])))}else n=(i=a.sign(e,{canonical:!0})).r.toArrayLike(Uint8Array,"be",32),o=i.s.toArrayLike(Uint8Array,"be",32);return{type:r,r:n,s:o,recid:i.recoveryParam||0}}(this.data.array,t.array,this.type))}signMessage(t){return this.signDigest(q.hash(t))}sharedSecret(t){let e=function(t,e,r){let i=t$(r),n=i.keyFromPrivate(t),o=i.keyFromPublic(e).getPublic();return n.derive(o).toArrayLike(Uint8Array,"be")}(this.data.array,t.data.array,this.type);return V.hash(e)}toPublic(){var t;let e=(t=this.data.array,new Uint8Array(t$(this.type).keyFromPrivate(t).getPublic().encodeCompressed()));return tq.from({compressed:e,type:this.type})}toWif(){if(this.type!==s.K1)throw Error("Unable to generate WIF for non-k1 key");return l.encodeCheck(U.from([128]).appending(this.data))}toString(){return`PVT_${this.type}_${l.encodeRipemd160Check(this.data,this.type)}`}toJSON(){return this.toString()}}let tR=d=class extends ty{static from(t){if("string"==typeof t){let e=t.split("@");if(2!==e.length&&e[0].length>0&&e[1].length>0)throw Error("Invalid permission level string, should be in the format <actor>@<permission>");t={actor:e[0],permission:e[1]}}return super.from(t)}equals(t){let e=d.from(t);return this.actor.equals(e.actor)&&this.permission.equals(e.permission)}toString(){return`${this.actor}@${this.permission}`}};(0,x.gn)([ty.field("name")],tR.prototype,"actor",void 0),(0,x.gn)([ty.field("name")],tR.prototype,"permission",void 0),tR=d=(0,x.gn)([ty.type("permission_level")],tR);let tW=c=class extends ty{static from(t,e){let r={...t},i=r.data;if(!U.isBytes(i)){let t;if(e)t=tf.from(e).getActionType(r.name);else if(!i.constructor||void 0===i.constructor.abiName)throw Error("Missing ABI definition when creating action with untyped action data");r={...r,data:tp({object:i,type:t,abi:e})}}let n=super.from(r);if(e)n.abi=tf.from(e);else{let t=tn(i);t&&(n.abi=tf.from({...Y(t).abi,actions:[{name:n.name,type:t.abiName,ricardian_contract:""}]}))}return n}equals(t){let e=c.from(t,this.abi);return this.account.equals(e.account)&&this.name.equals(e.name)&&function(t,e){let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!t[i].equals(e[i]))return!1;return!0}(this.authorization,e.authorization)&&this.data.equals(e.data)}decodeData(t){if("string"==typeof t||t.abiName)return ta({data:this.data,type:t});{let e=tf.from(t),r=e.getActionType(this.name);if(!r)throw Error(`Action ${this.name} does not exist in provided ABI`);return ta({data:this.data,type:r,abi:e})}}get decoded(){if(!this.abi)throw Error("Missing ABI definition when decoding action data");return{...this.toJSON(),data:this.decodeData(this.abi)}}};(0,x.gn)([ty.field("name")],tW.prototype,"account",void 0),(0,x.gn)([ty.field("name")],tW.prototype,"name",void 0),(0,x.gn)([ty.field(tR,{array:!0})],tW.prototype,"authorization",void 0),(0,x.gn)([ty.field("bytes")],tW.prototype,"data",void 0),tW=c=(0,x.gn)([ty.type("action")],tW);let tL=class extends ty{};(0,x.gn)([ty.field("uint16")],tL.prototype,"type",void 0),(0,x.gn)([ty.field("bytes")],tL.prototype,"data",void 0),tL=(0,x.gn)([ty.type("transaction_extension")],tL);let tF=class extends ty{static from(t){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...t})}};(0,x.gn)([ty.field("time_point_sec")],tF.prototype,"expiration",void 0),(0,x.gn)([ty.field("uint16")],tF.prototype,"ref_block_num",void 0),(0,x.gn)([ty.field("uint32")],tF.prototype,"ref_block_prefix",void 0),(0,x.gn)([ty.field("varuint32")],tF.prototype,"max_net_usage_words",void 0),(0,x.gn)([ty.field("uint8")],tF.prototype,"max_cpu_usage_ms",void 0),(0,x.gn)([ty.field("varuint32")],tF.prototype,"delay_sec",void 0),tF=(0,x.gn)([ty.type("transaction_header")],tF);let tO=u=class extends tF{static from(t,e){let r=t=>e?Array.isArray(e)?e.filter(e=>tx.from(e.contract).equals(t)).map(({abi:t})=>t)[0]:e:void 0,i=t=>t instanceof tW?t:tW.from(t,r(t.account)),n=(t.actions||[]).map(i),o=(t.context_free_actions||[]).map(i),a={transaction_extensions:[],...t,context_free_actions:o,actions:n};return super.from(a)}equals(t){let e=u.from(t);return this.id.equals(e.id)}get id(){return q.hash(tp({object:this}))}signingDigest(t){let e=this.signingData(t);return q.hash(e)}signingData(t){let e=U.from(q.from(t).array);return(e=e.appending(tp({object:this}))).appending(new Uint8Array(32))}};(0,x.gn)([ty.field(tW,{array:!0})],tO.prototype,"context_free_actions",void 0),(0,x.gn)([ty.field(tW,{array:!0})],tO.prototype,"actions",void 0),(0,x.gn)([ty.field(tL,{array:!0})],tO.prototype,"transaction_extensions",void 0),tO=u=(0,x.gn)([ty.type("transaction")],tO);let tM=class extends tO{get transaction(){return tO.from({...this,signatures:void 0,context_free_data:void 0})}get id(){return this.transaction.id}static from(t){return super.from({signatures:[],context_free_data:[],...t})}};(0,x.gn)([ty.field("signature[]")],tM.prototype,"signatures",void 0),(0,x.gn)([ty.field("bytes[]")],tM.prototype,"context_free_data",void 0),tM=(0,x.gn)([ty.type("signed_transaction")],tM),(o=p||(p={}))[o.none=0]="none",o[o.zlib=1]="zlib";let tz=class extends ty{static from(t){return super.from({signatures:[],packed_context_free_data:"",compression:0,...t})}static fromSigned(t,e=1){let r=tp({object:tO.from(t)}),i=tp({object:t.context_free_data,type:"bytes[]"});switch(e){case p.zlib:r=A.ZP.deflate(r.array),i=A.ZP.deflate(i.array);case p.none:}return this.from({compression:e,signatures:t.signatures,packed_context_free_data:i,packed_trx:r})}getTransaction(){switch(Number(this.compression)){case p.none:return ta({data:this.packed_trx,type:tO});case p.zlib:return ta({data:A.ZP.inflate(this.packed_trx.array),type:tO});default:throw Error(`Unknown transaction compression ${this.compression}`)}}getSignedTransaction(){let t=this.getTransaction();return tM.from({...t,signatures:this.signatures})}};(0,x.gn)([ty.field("signature[]")],tz.prototype,"signatures",void 0),(0,x.gn)([ty.field("uint8")],tz.prototype,"compression",void 0),(0,x.gn)([ty.field("bytes")],tz.prototype,"packed_context_free_data",void 0),(0,x.gn)([ty.field("bytes")],tz.prototype,"packed_trx",void 0),tz=(0,x.gn)([ty.type("packed_transaction")],tz);let tJ=class extends ty{};(0,x.gn)([ty.field("string")],tJ.prototype,"status",void 0),(0,x.gn)([ty.field("uint32")],tJ.prototype,"cpu_usage_us",void 0),(0,x.gn)([ty.field("uint32")],tJ.prototype,"net_usage_words",void 0),tJ=(0,x.gn)([ty.type("transaction_receipt")],tJ);let tH=class extends M{};tH=(0,x.gn)([tg("weight_type")],tH);let tK=class extends ty{};(0,x.gn)([ty.field(tq)],tK.prototype,"key",void 0),(0,x.gn)([ty.field(tH)],tK.prototype,"weight",void 0),tK=(0,x.gn)([ty.type("key_weight")],tK);let tG=class extends ty{};(0,x.gn)([ty.field(tR)],tG.prototype,"permission",void 0),(0,x.gn)([ty.field(tH)],tG.prototype,"weight",void 0),tG=(0,x.gn)([ty.type("permission_level_weight")],tG);let tZ=class extends ty{};(0,x.gn)([ty.field(z)],tZ.prototype,"wait_sec",void 0),(0,x.gn)([ty.field(tH)],tZ.prototype,"weight",void 0),tZ=(0,x.gn)([ty.type("wait_weight")],tZ);let tY=h=class extends ty{static from(t){if(P(t,h))return t;let e=super.from({keys:[],accounts:[],waits:[],...t});return e.sort(),e}get waitThreshold(){return this.waits.reduce((t,e)=>t+e.weight.toNumber(),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(t){let e=this.keys.find(({key:e})=>e.equals(t));return e?e.weight.toNumber():0}hasPermission(t,e=!1){let r=e?1:this.keyThreshold;return this.keyWeight(t)>=r}sort(){this.keys.sort((t,e)=>String(t.key).localeCompare(String(e.key))),this.accounts.sort((t,e)=>String(t.permission).localeCompare(String(e.permission))),this.waits.sort((t,e)=>String(t.wait_sec).localeCompare(String(e.wait_sec)))}};(0,x.gn)([ty.field(z)],tY.prototype,"threshold",void 0),(0,x.gn)([ty.field(tK,{array:!0})],tY.prototype,"keys",void 0),(0,x.gn)([ty.field(tG,{array:!0})],tY.prototype,"accounts",void 0),(0,x.gn)([ty.field(tZ,{array:!0})],tY.prototype,"waits",void 0),tY=h=(0,x.gn)([ty.type("authority")],tY);class tQ{static from(t){return P(t,this)?t:U.isBytes(t)?new this(U.from(t).array):this.fromBlockChecksum(t.checksum,t.blockNum)}static fromABI(t){return new this(t.readArray(32))}static fromBlockChecksum(t,e){let r=new tQ(q.from(t).array),i=new Uint8Array(4);return i[0]=Number(e)>>24&255,i[1]=Number(e)>>16&255,i[2]=Number(e)>>8&255,i[3]=255&Number(e),r.array.set(i,0),r}constructor(t){if(32!==t.byteLength)throw Error(`BlockId size mismatch, expected 32 bytes got ${t.byteLength}`);this.array=t}equals(t){let e=this.constructor;try{return S(this.array,e.from(t).array)}catch{return!1}}toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}get hexString(){return E(this.array)}get blockNum(){let t=this.array.slice(0,4),e=0;for(let r=0;r<4;r++)e=(e<<8)+t[r];return z.from(e)}}tQ.abiName="block_id_type",(a=f||(f={})).encode=tp,a.decode=ta,a.synthesize=function(t){return Y(t).abi},a.stringify=function(t){return JSON.stringify(t)},a.objectify=function(t){let e=t=>{switch(typeof t){case"boolean":case"number":case"string":return t;case"object":{if(null===t)return t;if("function"==typeof t.toJSON)return e(t.toJSON());if(Array.isArray(t))return t.map(e);let r={};for(let i of Object.keys(t))r[i]=e(t[i]);return r}}};return e(t)};class tX{constructor(t,e={}){if(this.headers={},(t=t.trim()).endsWith("/")&&(t=t.slice(0,-1)),this.url=t,e.headers&&(this.headers=e.headers),e.fetch)this.fetch=e.fetch;else if("undefined"!=typeof window&&window.fetch)this.fetch=window.fetch.bind(window);else if(void 0!==r.g&&r.g.fetch)this.fetch=r.g.fetch.bind(r.g);else throw Error("Missing fetch")}async call(t){let e;let r=this.url+t.path,i=void 0!==t.params?JSON.stringify(t.params):void 0,n={...this.headers,...t.headers},o=await this.fetch(r,{method:t.method||"POST",body:i,headers:n}),a=await o.text();try{e=JSON.parse(a)}catch{}let s={};for(let[t,e]of o.headers.entries())s[t]=e;return{headers:s,status:o.status,json:e,text:a}}}let t0=class extends ty{};(0,x.gn)([ty.field("name")],t0.prototype,"account",void 0),(0,x.gn)([ty.field("name",{optional:!0})],t0.prototype,"action",void 0),t0=(0,x.gn)([ty.type("account_linked_action")],t0);let t1=class extends ty{};(0,x.gn)([ty.field("name")],t1.prototype,"perm_name",void 0),(0,x.gn)([ty.field("name")],t1.prototype,"parent",void 0),(0,x.gn)([ty.field(tY)],t1.prototype,"required_auth",void 0),(0,x.gn)([ty.field(t0,{optional:!0,array:!0})],t1.prototype,"linked_actions",void 0),t1=(0,x.gn)([ty.type("account_permission")],t1);let t2=class extends ty{};(0,x.gn)([ty.field("int64")],t2.prototype,"used",void 0),(0,x.gn)([ty.field("int64")],t2.prototype,"available",void 0),(0,x.gn)([ty.field("int64")],t2.prototype,"max",void 0),(0,x.gn)([ty.field("time_point",{optional:!0})],t2.prototype,"last_usage_update_time",void 0),(0,x.gn)([ty.field("int64",{optional:!0})],t2.prototype,"current_used",void 0),t2=(0,x.gn)([ty.type("account_resource_limit")],t2);let t3=class extends ty{};(0,x.gn)([ty.field("name")],t3.prototype,"owner",void 0),(0,x.gn)([ty.field("asset")],t3.prototype,"net_weight",void 0),(0,x.gn)([ty.field("asset")],t3.prototype,"cpu_weight",void 0),(0,x.gn)([ty.field("uint64")],t3.prototype,"ram_bytes",void 0),t3=(0,x.gn)([ty.type("account_total_resources")],t3);let t6=class extends ty{};(0,x.gn)([ty.field("name")],t6.prototype,"from",void 0),(0,x.gn)([ty.field("name")],t6.prototype,"to",void 0),(0,x.gn)([ty.field("asset")],t6.prototype,"net_weight",void 0),(0,x.gn)([ty.field("asset")],t6.prototype,"cpu_weight",void 0),t6=(0,x.gn)([ty.type("account_self_delegated_bandwidth")],t6);let t8=class extends ty{};(0,x.gn)([ty.field("name")],t8.prototype,"owner",void 0),(0,x.gn)([ty.field("time_point")],t8.prototype,"request_time",void 0),(0,x.gn)([ty.field("asset")],t8.prototype,"net_amount",void 0),(0,x.gn)([ty.field("asset")],t8.prototype,"cpu_amount",void 0),t8=(0,x.gn)([ty.type("account_refund_request")],t8);let t4=class extends ty{};(0,x.gn)([ty.field("name")],t4.prototype,"owner",void 0),(0,x.gn)([ty.field("name")],t4.prototype,"proxy",void 0),(0,x.gn)([ty.field("name",{array:!0})],t4.prototype,"producers",void 0),(0,x.gn)([ty.field("int64",{optional:!0})],t4.prototype,"staked",void 0),(0,x.gn)([ty.field("float64")],t4.prototype,"last_vote_weight",void 0),(0,x.gn)([ty.field("float64")],t4.prototype,"proxied_vote_weight",void 0),(0,x.gn)([ty.field("bool")],t4.prototype,"is_proxy",void 0),(0,x.gn)([ty.field("uint32",{optional:!0})],t4.prototype,"flags1",void 0),(0,x.gn)([ty.field("uint32")],t4.prototype,"reserved2",void 0),(0,x.gn)([ty.field("string")],t4.prototype,"reserved3",void 0),t4=(0,x.gn)([ty.type("account_voter_info")],t4);let t5=class extends ty{};(0,x.gn)([ty.field("time_point",{optional:!0})],t5.prototype,"key",void 0),(0,x.gn)([ty.field("int64",{optional:!0})],t5.prototype,"value",void 0),(0,x.gn)([ty.field("time_point",{optional:!0})],t5.prototype,"first",void 0),(0,x.gn)([ty.field("int64",{optional:!0})],t5.prototype,"second",void 0),t5=(0,x.gn)([ty.type("account_rex_info_maturities")],t5);let t7=class extends ty{};(0,x.gn)([ty.field("uint32")],t7.prototype,"version",void 0),(0,x.gn)([ty.field("name")],t7.prototype,"owner",void 0),(0,x.gn)([ty.field("asset")],t7.prototype,"vote_stake",void 0),(0,x.gn)([ty.field("asset")],t7.prototype,"rex_balance",void 0),(0,x.gn)([ty.field("int64")],t7.prototype,"matured_rex",void 0),(0,x.gn)([ty.field(t5,{array:!0})],t7.prototype,"rex_maturities",void 0),t7=(0,x.gn)([ty.type("account_rex_info")],t7);let t9=class extends ty{};(0,x.gn)([ty.field("name")],t9.prototype,"account_name",void 0),(0,x.gn)([ty.field("checksum256")],t9.prototype,"code_hash",void 0),(0,x.gn)([ty.field("checksum256")],t9.prototype,"abi_hash",void 0),(0,x.gn)([ty.field(T)],t9.prototype,"abi",void 0),t9=(0,x.gn)([ty.type("get_raw_abi_response")],t9);let et=class extends ty{getPermission(t){let e=tx.from(t),r=this.permissions.find(t=>t.perm_name.equals(e));if(!r)throw Error(`Unknown permission ${e} on account ${this.account_name}.`);return r}};(0,x.gn)([ty.field("name")],et.prototype,"account_name",void 0),(0,x.gn)([ty.field("uint32")],et.prototype,"head_block_num",void 0),(0,x.gn)([ty.field("time_point")],et.prototype,"head_block_time",void 0),(0,x.gn)([ty.field("bool")],et.prototype,"privileged",void 0),(0,x.gn)([ty.field("time_point")],et.prototype,"last_code_update",void 0),(0,x.gn)([ty.field("time_point")],et.prototype,"created",void 0),(0,x.gn)([ty.field("asset?")],et.prototype,"core_liquid_balance",void 0),(0,x.gn)([ty.field("int64")],et.prototype,"ram_quota",void 0),(0,x.gn)([ty.field("int64")],et.prototype,"net_weight",void 0),(0,x.gn)([ty.field("int64")],et.prototype,"cpu_weight",void 0),(0,x.gn)([ty.field(t2)],et.prototype,"net_limit",void 0),(0,x.gn)([ty.field(t2)],et.prototype,"cpu_limit",void 0),(0,x.gn)([ty.field(t2,{optional:!0})],et.prototype,"subjective_cpu_bill_limit",void 0),(0,x.gn)([ty.field("uint64")],et.prototype,"ram_usage",void 0),(0,x.gn)([ty.field(t1,{array:!0})],et.prototype,"permissions",void 0),(0,x.gn)([ty.field(t3,{optional:!0})],et.prototype,"total_resources",void 0),(0,x.gn)([ty.field(t6,{optional:!0})],et.prototype,"self_delegated_bandwidth",void 0),(0,x.gn)([ty.field(t8,{optional:!0})],et.prototype,"refund_request",void 0),(0,x.gn)([ty.field(t4,{optional:!0})],et.prototype,"voter_info",void 0),(0,x.gn)([ty.field(t7,{optional:!0})],et.prototype,"rex_info",void 0),et=(0,x.gn)([ty.type("account_object")],et);let ee=class extends ty{};(0,x.gn)([ty.field(tx)],ee.prototype,"account_name",void 0),(0,x.gn)([ty.field(tx)],ee.prototype,"permission_name",void 0),(0,x.gn)([ty.field(tq,{optional:!0})],ee.prototype,"authorizing_key",void 0),(0,x.gn)([ty.field(tR,{optional:!0})],ee.prototype,"authorizing_account",void 0),(0,x.gn)([ty.field(tH)],ee.prototype,"weight",void 0),(0,x.gn)([ty.field(z)],ee.prototype,"threshold",void 0),ee=(0,x.gn)([ty.type("account_by_authorizers_row")],ee);let er=class extends ty{};(0,x.gn)([ty.field(ee,{array:!0})],er.prototype,"accounts",void 0),er=(0,x.gn)([ty.type("account_by_authorizers")],er);let ei=class extends ty{};(0,x.gn)([ty.field("name")],ei.prototype,"producer_name",void 0),(0,x.gn)([ty.field("public_key")],ei.prototype,"block_signing_key",void 0),ei=(0,x.gn)([ty.type("new_producers_entry")],ei);let en=class extends ty{};(0,x.gn)([ty.field("uint32")],en.prototype,"version",void 0),(0,x.gn)([ty.field(ei,{array:!0})],en.prototype,"producers",void 0),en=(0,x.gn)([ty.type("new_producers")],en);let eo=class extends ty{};(0,x.gn)([ty.field("uint16")],eo.prototype,"type",void 0),(0,x.gn)([ty.field("bytes")],eo.prototype,"data",void 0),eo=(0,x.gn)([ty.type("block_extension")],eo);let ea=class extends ty{};(0,x.gn)([ty.field("uint16")],ea.prototype,"type",void 0),(0,x.gn)([ty.field("bytes")],ea.prototype,"data",void 0),ea=(0,x.gn)([ty.type("header_extension")],ea);let es=class{static from(t){let e,r;return"string"==typeof t?(e=q.from(t),r={}):(e=q.from(t.id),r=t),new this(e,r)}constructor(t,e){this.id=t,this.extra=e}get transaction(){if(this.extra.packed_trx)switch(this.extra.compression){case"zlib":{let t=A.ZP.inflate(U.from(this.extra.packed_trx,"hex").array);return f.decode({data:t,type:tO})}case"none":return f.decode({data:this.extra.packed_trx,type:tO});default:throw Error(`Unsupported compression type ${this.extra.compression}`)}}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(tj.from)}equals(t){return this.id.equals(t.id)}toJSON(){return this.id}};es.abiName="trx_variant";let el=class extends tJ{get id(){return this.trx.id}};(0,x.gn)([ty.field(es)],el.prototype,"trx",void 0),el=(0,x.gn)([ty.type("get_block_response_receipt")],el);let ed=class extends ty{};(0,x.gn)([ty.field("time_point")],ed.prototype,"timestamp",void 0),(0,x.gn)([ty.field("name")],ed.prototype,"producer",void 0),(0,x.gn)([ty.field("uint16")],ed.prototype,"confirmed",void 0),(0,x.gn)([ty.field(tQ)],ed.prototype,"previous",void 0),(0,x.gn)([ty.field("checksum256")],ed.prototype,"transaction_mroot",void 0),(0,x.gn)([ty.field("checksum256")],ed.prototype,"action_mroot",void 0),(0,x.gn)([ty.field("uint32")],ed.prototype,"schedule_version",void 0),(0,x.gn)([ty.field(en,{optional:!0})],ed.prototype,"new_producers",void 0),(0,x.gn)([ty.field("any",{optional:!0})],ed.prototype,"header_extensions",void 0),(0,x.gn)([ty.field("any",{optional:!0})],ed.prototype,"new_protocol_features",void 0),(0,x.gn)([ty.field("signature")],ed.prototype,"producer_signature",void 0),(0,x.gn)([ty.field(el,{array:!0})],ed.prototype,"transactions",void 0),(0,x.gn)([ty.field("block_extension",{optional:!0})],ed.prototype,"block_extensions",void 0),(0,x.gn)([ty.field(tQ)],ed.prototype,"id",void 0),(0,x.gn)([ty.field("uint32")],ed.prototype,"block_num",void 0),(0,x.gn)([ty.field("uint32")],ed.prototype,"ref_block_prefix",void 0),ed=(0,x.gn)([ty.type("get_block_response")],ed);let ec=class extends ty{};(0,x.gn)([ty.field("uint32")],ec.prototype,"block_num",void 0),(0,x.gn)([ty.field("uint32")],ec.prototype,"ref_block_num",void 0),(0,x.gn)([ty.field(tQ)],ec.prototype,"id",void 0),(0,x.gn)([ty.field("time_point")],ec.prototype,"timestamp",void 0),(0,x.gn)([ty.field("name")],ec.prototype,"producer",void 0),(0,x.gn)([ty.field("uint16")],ec.prototype,"confirmed",void 0),(0,x.gn)([ty.field(tQ)],ec.prototype,"previous",void 0),(0,x.gn)([ty.field("checksum256")],ec.prototype,"transaction_mroot",void 0),(0,x.gn)([ty.field("checksum256")],ec.prototype,"action_mroot",void 0),(0,x.gn)([ty.field("uint32")],ec.prototype,"schedule_version",void 0),(0,x.gn)([ty.field("signature")],ec.prototype,"producer_signature",void 0),(0,x.gn)([ty.field("uint32")],ec.prototype,"ref_block_prefix",void 0),ec=(0,x.gn)([ty.type("get_block_response")],ec);let eu=class extends ty{};(0,x.gn)([ty.field("name")],eu.prototype,"producer_name",void 0),(0,x.gn)([ty.field("any")],eu.prototype,"authority",void 0),eu=(0,x.gn)([ty.type("active_schedule_producer_authority")],eu);let ep=class extends ty{};(0,x.gn)([ty.field("name")],ep.prototype,"producer_name",void 0),(0,x.gn)([ty.field(eu)],ep.prototype,"authority",void 0),ep=(0,x.gn)([ty.type("active_schedule_producer")],ep);let eh=class extends ty{};(0,x.gn)([ty.field("uint32")],eh.prototype,"version",void 0),(0,x.gn)([ty.field(ep,{array:!0})],eh.prototype,"producers",void 0),eh=(0,x.gn)([ty.type("active_schedule")],eh);let ef=class extends ty{};(0,x.gn)([ty.field("time_point")],ef.prototype,"timestamp",void 0),(0,x.gn)([ty.field("name")],ef.prototype,"producer",void 0),(0,x.gn)([ty.field("uint16")],ef.prototype,"confirmed",void 0),(0,x.gn)([ty.field(tQ)],ef.prototype,"previous",void 0),(0,x.gn)([ty.field("checksum256")],ef.prototype,"transaction_mroot",void 0),(0,x.gn)([ty.field("checksum256")],ef.prototype,"action_mroot",void 0),(0,x.gn)([ty.field("uint32")],ef.prototype,"schedule_version",void 0),(0,x.gn)([ty.field("any",{array:!0,optional:!0})],ef.prototype,"header_extensions",void 0),(0,x.gn)([ty.field("signature")],ef.prototype,"producer_signature",void 0),ef=(0,x.gn)([ty.type("block_state_header")],ef);let ey=class extends ty{};(0,x.gn)([ty.field("uint32")],ey.prototype,"block_num",void 0),(0,x.gn)([ty.field("uint32")],ey.prototype,"dpos_proposed_irreversible_blocknum",void 0),(0,x.gn)([ty.field("uint32")],ey.prototype,"dpos_irreversible_blocknum",void 0),(0,x.gn)([ty.field(tQ)],ey.prototype,"id",void 0),(0,x.gn)([ty.field(ef)],ey.prototype,"header",void 0),(0,x.gn)([ty.field("any")],ey.prototype,"active_schedule",void 0),(0,x.gn)([ty.field("any")],ey.prototype,"blockroot_merkle",void 0),(0,x.gn)([ty.field("any")],ey.prototype,"producer_to_last_produced",void 0),(0,x.gn)([ty.field("any")],ey.prototype,"producer_to_last_implied_irb",void 0),(0,x.gn)([ty.field("any")],ey.prototype,"valid_block_signing_authority",void 0),(0,x.gn)([ty.field("any")],ey.prototype,"confirm_count",void 0),(0,x.gn)([ty.field("any")],ey.prototype,"pending_schedule",void 0),(0,x.gn)([ty.field("any",{optional:!0})],ey.prototype,"activated_protocol_features",void 0),(0,x.gn)([ty.field("any")],ey.prototype,"additional_signatures",void 0),ey=(0,x.gn)([ty.type("get_block_header_state_response")],ey);let eg=class extends ty{getTransactionHeader(t=120){let e=tS.fromMilliseconds(this.head_block_time.toMilliseconds()+1e3*t),r=this.last_irreversible_block_id.array.subarray(8,12),i=new Uint32Array(r.buffer,r.byteOffset,1)[0];return tF.from({expiration:e,ref_block_num:65535&Number(this.last_irreversible_block_num),ref_block_prefix:i})}};(0,x.gn)([ty.field("string")],eg.prototype,"server_version",void 0),(0,x.gn)([ty.field("checksum256")],eg.prototype,"chain_id",void 0),(0,x.gn)([ty.field("uint32")],eg.prototype,"head_block_num",void 0),(0,x.gn)([ty.field("uint32")],eg.prototype,"last_irreversible_block_num",void 0),(0,x.gn)([ty.field(tQ)],eg.prototype,"last_irreversible_block_id",void 0),(0,x.gn)([ty.field(tQ)],eg.prototype,"head_block_id",void 0),(0,x.gn)([ty.field("time_point")],eg.prototype,"head_block_time",void 0),(0,x.gn)([ty.field("name")],eg.prototype,"head_block_producer",void 0),(0,x.gn)([ty.field("uint64")],eg.prototype,"virtual_block_cpu_limit",void 0),(0,x.gn)([ty.field("uint64")],eg.prototype,"virtual_block_net_limit",void 0),(0,x.gn)([ty.field("uint64")],eg.prototype,"block_cpu_limit",void 0),(0,x.gn)([ty.field("uint64")],eg.prototype,"block_net_limit",void 0),(0,x.gn)([ty.field("string?")],eg.prototype,"server_version_string",void 0),(0,x.gn)([ty.field("uint32?")],eg.prototype,"fork_db_head_block_num",void 0),(0,x.gn)([ty.field("block_id_type?")],eg.prototype,"fork_db_head_block_id",void 0),eg=(0,x.gn)([ty.type("get_info_response")],eg);let em=class extends ty{};(0,x.gn)([ty.field("name")],em.prototype,"code",void 0),(0,x.gn)([ty.field("name")],em.prototype,"scope",void 0),(0,x.gn)([ty.field("name")],em.prototype,"table",void 0),(0,x.gn)([ty.field("name")],em.prototype,"payer",void 0),(0,x.gn)([ty.field("uint32")],em.prototype,"count",void 0),em=(0,x.gn)([ty.type("get_table_by_scope_response_row")],em);let ev=class extends ty{};(0,x.gn)([ty.field(em,{array:!0})],ev.prototype,"rows",void 0),(0,x.gn)([ty.field("string")],ev.prototype,"more",void 0),ev=(0,x.gn)([ty.type("get_table_by_scope_response")],ev);let e_=class extends ty{};(0,x.gn)([ty.field(J)],e_.prototype,"global_action_seq",void 0),(0,x.gn)([ty.field(L)],e_.prototype,"account_action_seq",void 0),(0,x.gn)([ty.field(z)],e_.prototype,"block_num",void 0),(0,x.gn)([ty.field(tI)],e_.prototype,"block_time",void 0),(0,x.gn)([ty.field("any")],e_.prototype,"action_trace",void 0),(0,x.gn)([ty.field("boolean?")],e_.prototype,"irrevirsible",void 0),e_=(0,x.gn)([ty.type("ordered_action_result")],e_);let eb=class extends ty{};(0,x.gn)([ty.field(e_,{array:!0})],eb.prototype,"actions",void 0),(0,x.gn)([ty.field(W)],eb.prototype,"last_irreversible_block",void 0),(0,x.gn)([ty.field(W)],eb.prototype,"head_block_num",void 0),(0,x.gn)([ty.field("boolean?")],eb.prototype,"time_limit_exceeded_error",void 0),eb=(0,x.gn)([ty.type("get_actions_response")],eb);let ew=class extends ty{};ew=(0,x.gn)([ty.type("transaction_trace")],ew);let ex=class extends ty{};(0,x.gn)([ty.field("any")],ex.prototype,"actions",void 0),(0,x.gn)([ty.field("any")],ex.prototype,"context_free_actions",void 0),(0,x.gn)([ty.field("any")],ex.prototype,"context_free_data",void 0),(0,x.gn)([ty.field("number")],ex.prototype,"delay_sec",void 0),(0,x.gn)([ty.field("string")],ex.prototype,"expiration",void 0),(0,x.gn)([ty.field("number")],ex.prototype,"max_cpu_usage_ms",void 0),(0,x.gn)([ty.field("number")],ex.prototype,"max_net_usage_words",void 0),(0,x.gn)([ty.field("number")],ex.prototype,"ref_block_num",void 0),(0,x.gn)([ty.field("number")],ex.prototype,"ref_block_prefix",void 0),(0,x.gn)([ty.field("string",{array:!0})],ex.prototype,"signatures",void 0),ex=(0,x.gn)([ty.type("trx")],ex);let eA=class extends ty{};(0,x.gn)([ty.field(tJ)],eA.prototype,"receipt",void 0),(0,x.gn)([ty.field("trx")],eA.prototype,"trx",void 0),eA=(0,x.gn)([ty.type("transaction_info")],eA);let ek=class extends ty{};(0,x.gn)([ty.field(q)],ek.prototype,"id",void 0),(0,x.gn)([ty.field(z)],ek.prototype,"block_num",void 0),(0,x.gn)([ty.field(tI)],ek.prototype,"block_time",void 0),(0,x.gn)([ty.field(z)],ek.prototype,"last_irreversible_block",void 0),(0,x.gn)([ty.field("any?")],ek.prototype,"traces",void 0),(0,x.gn)([ty.field("any")],ek.prototype,"trx",void 0),ek=(0,x.gn)([ty.type("get_transaction_response")],ek);let eS=class extends ty{};(0,x.gn)([ty.field("name",{array:!0})],eS.prototype,"account_names",void 0),eS=(0,x.gn)([ty.type("get_key_accounts_response")],eS);let eI=class extends ty{};(0,x.gn)([ty.field(tf)],eI.prototype,"abi",void 0),(0,x.gn)([ty.field("name")],eI.prototype,"account_name",void 0),(0,x.gn)([ty.field("checksum256")],eI.prototype,"code_hash",void 0),(0,x.gn)([ty.field("string")],eI.prototype,"wast",void 0),(0,x.gn)([ty.field("string")],eI.prototype,"wasm",void 0),eI=(0,x.gn)([ty.type("get_code_response")],eI);let eN=class extends ty{};(0,x.gn)([ty.field("name",{array:!0})],eN.prototype,"controlled_accounts",void 0),eN=(0,x.gn)([ty.type("get_controlled_accounts_response")],eN);let eE=class extends ty{};(0,x.gn)([ty.field("asset")],eE.prototype,"supply",void 0),(0,x.gn)([ty.field("asset")],eE.prototype,"max_supply",void 0),(0,x.gn)([ty.field("name")],eE.prototype,"issuer",void 0),eE=(0,x.gn)([ty.type("get_currency_stats_item_response")],eE);let eB=class extends ty{};(0,x.gn)([ty.field("string")],eB.prototype,"state",void 0),(0,x.gn)([ty.field("uint32")],eB.prototype,"head_number",void 0),(0,x.gn)([ty.field(tQ)],eB.prototype,"head_id",void 0),(0,x.gn)([ty.field("time_point")],eB.prototype,"head_timestamp",void 0),(0,x.gn)([ty.field("uint32")],eB.prototype,"irreversible_number",void 0),(0,x.gn)([ty.field(tQ)],eB.prototype,"irreversible_id",void 0),(0,x.gn)([ty.field("time_point")],eB.prototype,"irreversible_timestamp",void 0),(0,x.gn)([ty.field(tQ)],eB.prototype,"earliest_tracked_block_id",void 0),(0,x.gn)([ty.field("uint32")],eB.prototype,"earliest_tracked_block_number",void 0),eB=(0,x.gn)([ty.type("get_transaction_status_response")],eB);let eP=class extends ty{};(0,x.gn)([ty.field(z)],eP.prototype,"threshold",void 0),(0,x.gn)([ty.field(tK,{array:!0})],eP.prototype,"keys",void 0),eP=(0,x.gn)([ty.type("producer_authority")],eP);let eT=class extends ty{static from(t){return super.from({...t,authority:[t.authority[0],eP.from(t.authority[1])]})}};(0,x.gn)([ty.field("name")],eT.prototype,"producer_name",void 0),(0,x.gn)([ty.field("any",{array:!0})],eT.prototype,"authority",void 0),eT=(0,x.gn)([ty.type("producer")],eT);let eU=class extends ty{};(0,x.gn)([ty.field("uint32")],eU.prototype,"version",void 0),(0,x.gn)([ty.field(eT,{array:!0})],eU.prototype,"producers",void 0),eU=(0,x.gn)([ty.type("producer_schedule")],eU);let eD=class extends ty{};(0,x.gn)([ty.field(eU,{optional:!0})],eD.prototype,"active",void 0),(0,x.gn)([ty.field(eU,{optional:!0})],eD.prototype,"pending",void 0),(0,x.gn)([ty.field(eU,{optional:!0})],eD.prototype,"proposed",void 0),eD=(0,x.gn)([ty.type("get_producer_schedule_response")],eD);let eq=class extends ty{};(0,x.gn)([ty.field("checksum256")],eq.prototype,"feature_digest",void 0),(0,x.gn)([ty.field("uint32")],eq.prototype,"activation_ordinal",void 0),(0,x.gn)([ty.field("uint32")],eq.prototype,"activation_block_num",void 0),(0,x.gn)([ty.field("checksum256")],eq.prototype,"description_digest",void 0),(0,x.gn)([ty.field("string",{array:!0})],eq.prototype,"dependencies",void 0),(0,x.gn)([ty.field("string")],eq.prototype,"protocol_feature_type",void 0),(0,x.gn)([ty.field("any",{array:!0})],eq.prototype,"specification",void 0),eq=(0,x.gn)([ty.type("protocol_feature")],eq);let eV=class extends ty{};(0,x.gn)([ty.field(eq,{array:!0})],eV.prototype,"activated_protocol_features",void 0),(0,x.gn)([ty.field("uint32",{optional:!0})],eV.prototype,"more",void 0),eV=(0,x.gn)([ty.type("get_protocol_features_response")],eV);var e$=Object.freeze({__proto__:null,get AccountByAuthorizersRow(){return ee},get AccountLinkedAction(){return t0},get AccountObject(){return et},get AccountPermission(){return t1},get AccountRefundRequest(){return t8},get AccountResourceLimit(){return t2},get AccountRexInfo(){return t7},get AccountRexInfoMaturities(){return t5},get AccountSelfDelegatedBandwidth(){return t6},get AccountTotalResources(){return t3},get AccountVoterInfo(){return t4},get AccountsByAuthorizers(){return er},get ActiveSchedule(){return eh},get ActiveScheduleProducer(){return ep},get ActiveScheduleProducerAuthority(){return eu},get BlockExtension(){return eo},get BlockStateHeader(){return ef},get GetActionsResponse(){return eb},get GetBlockHeaderStateResponse(){return ey},get GetBlockInfoResponse(){return ec},get GetBlockResponse(){return ed},get GetBlockResponseTransactionReceipt(){return el},get GetCodeResponse(){return eI},get GetControlledAccountsResponse(){return eN},get GetCurrencyStatsItemResponse(){return eE},get GetInfoResponse(){return eg},get GetKeyAccountsResponse(){return eS},get GetProducerScheduleResponse(){return eD},get GetProtocolFeaturesResponse(){return eV},get GetRawAbiResponse(){return t9},get GetTableByScopeResponse(){return ev},get GetTableByScopeResponseRow(){return em},get GetTransactionResponse(){return ek},get GetTransactionStatusResponse(){return eB},get HeaderExtension(){return ea},get NewProducers(){return en},get NewProducersEntry(){return ei},get OrderedActionsResult(){return e_},get Producer(){return eT},get ProducerAuthority(){return eP},get ProducerSchedule(){return eU},get ProtocolFeature(){return eq},get TransactionInfo(){return eA},get TransactionTrace(){return ew},get Trx(){return ex},TrxVariant:es});class ej{constructor(t){this.client=t}async get_abi(t){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:tx.from(t)}})}async get_code(t){return this.client.call({path:"/v1/chain/get_code",params:{account_name:tx.from(t)},responseType:eI})}async get_raw_abi(t){return this.client.call({path:"/v1/chain/get_raw_abi",params:{account_name:tx.from(t)},responseType:t9})}async get_account(t,e=et){return this.client.call({path:"/v1/chain/get_account",params:{account_name:tx.from(t)},responseType:e})}async get_accounts_by_authorizers(t){return this.client.call({path:"/v1/chain/get_accounts_by_authorizers",params:t,responseType:er})}async get_activated_protocol_features(t){return this.client.call({path:"/v1/chain/get_activated_protocol_features",params:t,responseType:eV})}async get_block(t){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:t},responseType:ed})}async get_block_header_state(t){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:t},responseType:ey})}async get_block_info(t){return this.client.call({path:"/v1/chain/get_block_info",params:{block_num:t},responseType:ec})}async get_currency_balance(t,e,r){let i={account:tx.from(e),code:tx.from(t)};return r&&(i.symbol=r),this.client.call({path:"/v1/chain/get_currency_balance",params:i,responseType:"asset[]"})}async get_currency_stats(t,e){let r={code:tx.from(t),symbol:e},i=await this.client.call({path:"/v1/chain/get_currency_stats",params:r}),n={};return Object.keys(i).forEach(t=>n[t]=eE.from(i[t])),n}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:eg,method:"GET"})}async get_producer_schedule(){return this.client.call({path:"/v1/chain/get_producer_schedule",responseType:eD})}async compute_transaction(t){return P(t,tz)||(t=tz.fromSigned(tM.from(t))),this.client.call({path:"/v1/chain/compute_transaction",params:{transaction:t}})}async send_read_only_transaction(t){return P(t,tz)||(t=tz.fromSigned(tM.from(t))),this.client.call({path:"/v1/chain/send_read_only_transaction",params:{transaction:t}})}async push_transaction(t){return P(t,tz)||(t=tz.fromSigned(tM.from(t))),this.client.call({path:"/v1/chain/push_transaction",params:t})}async send_transaction(t){return P(t,tz)||(t=tz.fromSigned(tM.from(t))),this.client.call({path:"/v1/chain/send_transaction",params:t})}async send_transaction2(t,e){return P(t,tz)||(t=tz.fromSigned(tM.from(t))),this.client.call({path:"/v1/chain/send_transaction2",params:{return_failure_trace:!0,retry_trx:!1,retry_trx_num_blocks:0,transaction:t,...e}})}async get_table_rows(t){let e;let r=t.type,i=t.key_type,n=t.lower_bound||t.upper_bound;!i&&n&&(P(n,J)?i="i64":P(n,H)?i="i128":P(n,q)?i="sha256":P(n,$)&&(i="ripemd160")),i||(i="name");let o=t.json;void 0===o&&(o=void 0===r);let a=t.upper_bound;a&&"string"!=typeof a&&(a=String(a));let s=t.lower_bound;s&&"string"!=typeof s&&(s=String(s));let l=t.scope;void 0===l?l=String(tx.from(t.code)):"string"!=typeof l&&(l=String(l));let{rows:d,more:c,next_key:u}=await this.client.call({path:"/v1/chain/get_table_rows",params:{...t,code:tx.from(t.code),table:tx.from(t.table),limit:void 0!==t.limit?z.from(t.limit):void 0,scope:l,key_type:i,json:o,upper_bound:a,lower_bound:s}});if(t.show_payer&&(e=[],d=d.map(({data:t,payer:r})=>(e.push(tx.from(r)),t))),r&&(d=o?d.map(t=>"string"==typeof t&&U.isBytes(t)?f.decode({data:U.from(t),type:r}):f.decode({object:t,type:r})):d.map(t=>U.from(t)).map(t=>f.decode({data:t,type:r}))),u&&u.length>0){let t;switch(i){case"i64":t=J;break;case"i128":t=H;break;case"name":t=tx;break;case"float64":t=tb;break;case"float128":t=tw;break;case"sha256":t=q;break;case"ripemd160":t=$;break;default:throw Error(`Unsupported key type: ${i}`)}u=t===tx?tx.from(f.decode({object:u,type:J})):f.decode({object:u,type:t})}else u=void 0;return{rows:d,more:c,next_key:u,ram_payers:e}}async get_table_by_scope(t){return this.client.call({path:"/v1/chain/get_table_by_scope",params:t,responseType:ev})}async get_transaction_status(t){return this.client.call({path:"/v1/chain/get_transaction_status",params:{id:q.from(t)},responseType:eB})}}class eC{constructor(t){this.client=t}async get_actions(t,e,r){return this.client.call({path:"/v1/history/get_actions",params:{account_name:tx.from(t),pos:W.from(e),offset:W.from(r)},responseType:eb})}async get_transaction(t,e={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:q.from(t),block_num_hint:e.blockNumHint&&z.from(e.blockNumHint),traces:!0!==e.excludeTraces&&void 0},responseType:ek})}async get_key_accounts(t){return this.client.call({path:"/v1/history/get_key_accounts",params:{public_key:tq.from(t)},responseType:eS})}async get_controlled_accounts(t){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:tx.from(t)},responseType:eN})}}class eR extends Error{static formatError(t){return"unspecified"===t.what&&t.details[0].file&&"http_plugin.cpp"===t.details[0].file&&"unknown key"===t.details[0].message.slice(0,11)?"Account not found":"unspecified"===t.what&&t.details&&t.details.length>0?t.details[0].message:t.what&&t.what.length>0?t.what:"Unknown API error"}constructor(t,e){super(e.json&&e.json.error?`${eR.formatError(e.json.error)} at ${t}`:`HTTP ${e.status} at ${t}`),this.path=t,this.response=e}get error(){let{json:t}=this.response;return t?t.error:void 0}get name(){let{error:t}=this;return t?t.name:"unspecified"}get code(){let{error:t}=this;return t?t.code:0}get details(){let{error:t}=this;return t?t.details:[]}}eR.__className="APIError";class eW{constructor(t){if(this.v1={chain:new ej(this),history:new eC(this)},t.provider)this.provider=t.provider;else if(t.url)this.provider=new tX(t.url,t);else throw Error("Missing url or provider")}async call(t){let e=await this.provider.call(t),{json:r}=e;if(2!==Math.floor(e.status/100)||r&&"object"==typeof r.error)throw new eR(t.path,e);return t.responseType?ta({type:t.responseType,object:e.json}):e.json||e.text}}eW.__className="APIClient";var eL=Object.freeze({__proto__:null,v1:e$});let eF=class extends ty{};(0,x.gn)([ty.field("uint16")],eF.prototype,"networkVersion",void 0),(0,x.gn)([ty.field("checksum256")],eF.prototype,"chainId",void 0),(0,x.gn)([ty.field("checksum256")],eF.prototype,"nodeId",void 0),(0,x.gn)([ty.field("public_key")],eF.prototype,"key",void 0),(0,x.gn)([ty.field("int64")],eF.prototype,"time",void 0),(0,x.gn)([ty.field("checksum256")],eF.prototype,"token",void 0),(0,x.gn)([ty.field("signature")],eF.prototype,"sig",void 0),(0,x.gn)([ty.field("string")],eF.prototype,"p2pAddress",void 0),(0,x.gn)([ty.field("uint32")],eF.prototype,"lastIrreversibleBlockNumber",void 0),(0,x.gn)([ty.field(tQ)],eF.prototype,"lastIrreversibleBlockId",void 0),(0,x.gn)([ty.field("uint32")],eF.prototype,"headNum",void 0),(0,x.gn)([ty.field(tQ)],eF.prototype,"headId",void 0),(0,x.gn)([ty.field("string")],eF.prototype,"os",void 0),(0,x.gn)([ty.field("string")],eF.prototype,"agent",void 0),(0,x.gn)([ty.field("int16")],eF.prototype,"generation",void 0),eF=(0,x.gn)([ty.type("handshake_message")],eF);let eO=class extends ty{};(0,x.gn)([ty.field("uint32")],eO.prototype,"lastIrreversibleBlockNumber",void 0),(0,x.gn)([ty.field(tQ)],eO.prototype,"lastIrreversibleBlockId",void 0),(0,x.gn)([ty.field("uint32")],eO.prototype,"headNum",void 0),(0,x.gn)([ty.field(tQ)],eO.prototype,"headId",void 0),eO=(0,x.gn)([ty.type("chain_size_message")],eO);let eM=class extends ty{};(0,x.gn)([ty.field("uint8")],eM.prototype,"reason",void 0),(0,x.gn)([ty.field("checksum256")],eM.prototype,"nodeId",void 0),eM=(0,x.gn)([ty.type("go_away_message")],eM);let ez=class extends ty{};(0,x.gn)([ty.field("int64")],ez.prototype,"org",void 0),(0,x.gn)([ty.field("int64")],ez.prototype,"rec",void 0),(0,x.gn)([ty.field("int64")],ez.prototype,"xmt",void 0),(0,x.gn)([ty.field("int64")],ez.prototype,"dst",void 0),ez=(0,x.gn)([ty.type("time_message")],ez);let eJ=class extends ty{};(0,x.gn)([ty.field("checksum256",{array:!0})],eJ.prototype,"knownTrx",void 0),(0,x.gn)([ty.field(tQ,{array:!0})],eJ.prototype,"knownBlocks",void 0),eJ=(0,x.gn)([ty.type("notice_message")],eJ);let eH=class extends ty{};(0,x.gn)([ty.field("checksum256",{array:!0})],eH.prototype,"reqTrx",void 0),(0,x.gn)([ty.field(tQ,{array:!0})],eH.prototype,"reqBlocks",void 0),eH=(0,x.gn)([ty.type("request_message")],eH);let eK=class extends ty{};(0,x.gn)([ty.field("uint32")],eK.prototype,"startBlock",void 0),(0,x.gn)([ty.field("uint32")],eK.prototype,"endBlock",void 0),eK=(0,x.gn)([ty.type("sync_request_message")],eK);let eG=class extends ty{};(0,x.gn)([ty.field("name")],eG.prototype,"producer_name",void 0),(0,x.gn)([ty.field("public_key")],eG.prototype,"block_signing_key",void 0),eG=(0,x.gn)([ty.type("new_producers_entry")],eG);let eZ=class extends ty{};(0,x.gn)([ty.field("uint32")],eZ.prototype,"version",void 0),(0,x.gn)([ty.field(eG,{array:!0})],eZ.prototype,"producers",void 0),eZ=(0,x.gn)([ty.type("new_producers")],eZ);let eY=class extends ty{};(0,x.gn)([ty.field("uint16")],eY.prototype,"type",void 0),(0,x.gn)([ty.field("bytes")],eY.prototype,"data",void 0),eY=(0,x.gn)([ty.type("block_extension")],eY);let eQ=class extends ty{};(0,x.gn)([ty.field("uint16")],eQ.prototype,"type",void 0),(0,x.gn)([ty.field("bytes")],eQ.prototype,"data",void 0),eQ=(0,x.gn)([ty.type("header_extension")],eQ);let eX=class extends tm{};eX=(0,x.gn)([tm.type("trx_variant",[q,tz])],eX);let e0=class extends ty{};(0,x.gn)([ty.field(O)],e0.prototype,"status",void 0),(0,x.gn)([ty.field(z)],e0.prototype,"cpu_usage_us",void 0),(0,x.gn)([ty.field(G)],e0.prototype,"net_usage_words",void 0),(0,x.gn)([ty.field(eX)],e0.prototype,"trx",void 0),e0=(0,x.gn)([ty.type("full_transaction_receipt")],e0);let e1=y=class extends ty{get blockNum(){return this.previous.blockNum.adding(1)}get id(){let t=q.hash(f.encode({object:this,type:y}));return tQ.fromBlockChecksum(t,this.blockNum)}};(0,x.gn)([ty.field("uint32")],e1.prototype,"timeSlot",void 0),(0,x.gn)([ty.field("name")],e1.prototype,"producer",void 0),(0,x.gn)([ty.field("uint16")],e1.prototype,"confirmed",void 0),(0,x.gn)([ty.field(tQ)],e1.prototype,"previous",void 0),(0,x.gn)([ty.field(tQ)],e1.prototype,"transaction_mroot",void 0),(0,x.gn)([ty.field(tQ)],e1.prototype,"action_mroot",void 0),(0,x.gn)([ty.field("uint32")],e1.prototype,"schedule_version",void 0),(0,x.gn)([ty.field(eZ,{optional:!0})],e1.prototype,"new_producers",void 0),(0,x.gn)([ty.field("any",{array:!0})],e1.prototype,"header_extensions",void 0),e1=y=(0,x.gn)([ty.type("block_header")],e1);let e2=class extends e1{};(0,x.gn)([ty.field("signature")],e2.prototype,"producer_signature",void 0),(0,x.gn)([ty.field(e0,{array:!0})],e2.prototype,"transactions",void 0),(0,x.gn)([ty.field(eY,{array:!0})],e2.prototype,"block_extensions",void 0),e2=(0,x.gn)([ty.type("signed_block")],e2);let e3=class extends tm{};e3=(0,x.gn)([tm.type("net_message",[eF,eO,eM,ez,eJ,eH,eK,e2,tz])],e3);class e6{constructor(t){if(t.provider)this.provider=t.provider;else throw Error("Missing provider");void 0!==t.setTimeoutImpl?this.setTimeoutImpl=t.setTimeoutImpl:this.setTimeoutImpl=setTimeout,void 0!==t.heartbeatTimoutMs&&(this.heartbeatTimoutMs=t.heartbeatTimoutMs,this.resetHeartbeat()),this.provider.on("data",t=>{this.handleData(t)}),this.provider.on("error",t=>{this.emit("error",[t])}),this.provider.on("close",()=>{this.emit("close",[])}),this.eventListeners={}}send(t,e){let r=e3.from(t),i=f.encode({object:r});this.provider.write(i.array,e)}end(t){this.endHeartbeat(),this.provider.end(t)}destroy(t){this.endHeartbeat(),this.provider.destroy(t)}handleData(t){try{let e=f.decode({type:e3,data:t});this.emit("message",[e])}catch(t){this.emit("error",[t])}}endHeartbeat(){void 0!==this.heartbeatTimoutId&&(clearTimeout(this.heartbeatTimoutId),this.heartbeatTimoutId=void 0)}resetHeartbeat(){this.endHeartbeat(),void 0!==this.heartbeatTimoutMs&&this.setTimeoutImpl(()=>{this.handleHeartbeat()},this.heartbeatTimoutMs)}handleHeartbeat(){let t=Date.now(),e=ez.from({org:t,rec:0,xmt:0,dst:0});this.send(e,()=>{this.resetHeartbeat()})}on(t,e){return this.addListenerInternal(t,e,!1,!1)}once(t,e){return this.addListenerInternal(t,e,!0,!1)}addListener(t,e){return this.addListenerInternal(t,e,!1,!1)}prependListener(t,e){return this.addListenerInternal(t,e,!1,!0)}removeListener(t,e){return void 0!==this.eventListeners[t]&&(this.eventListeners[t]=this.eventListeners[t].filter(t=>t.handler!==e)),this}addListenerInternal(t,e,r,i){return void 0===this.eventListeners[t]&&(this.eventListeners[t]=[]),i?this.eventListeners[t].unshift({once:r,handler:e}):this.eventListeners[t].push({once:r,handler:e}),this}emit(t,e){if(void 0!==this.eventListeners[t]){for(let{handler:r}of this.eventListeners[t])r(...e);this.eventListeners[t]=this.eventListeners[t].filter(t=>!0!==t.once)}}}e6.__className="P2PClient";class e8{constructor(t){this.nextProvider=t,this.remainingData=new Uint8Array(0),this.dataHandlers=[],this.errorHandlers=[],this.nextProvider.on("data",t=>{let e=new Uint8Array(this.remainingData.byteLength+t.byteLength);for(e.set(this.remainingData,0),e.set(t,this.remainingData.byteLength),this.remainingData=e;this.remainingData.byteLength>=4;){let t=new DataView(this.remainingData.buffer).getUint32(0,!0);if(t>e8.maxReadLength&&this.emitError(Error("Incoming Message too long")),this.remainingData.byteLength<4+t)break;let e=this.remainingData.subarray(4,4+t);this.remainingData=this.remainingData.slice(4+t),this.emitData(e)}}),this.nextProvider.on("error",t=>{this.emitError(t)})}write(t,e){let r=new Uint8Array(4+t.byteLength);new DataView(r.buffer).setUint32(0,t.byteLength,!0),r.set(t,4),this.nextProvider.write(r,e)}end(t){this.nextProvider.end(t)}destroy(t){this.nextProvider.destroy(t)}on(t,e){return"data"===t?this.dataHandlers.push(e):"error"===t?this.errorHandlers.push(e):this.nextProvider.on(t,e),this}emitData(t){for(let e of this.dataHandlers)e(t)}emitError(t){for(let e of this.errorHandlers)e(t)}}e8.maxReadLength=8388608}}]);